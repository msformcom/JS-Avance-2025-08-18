import{EMPTY}from"../observable/empty";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{innerFrom}from"../observable/innerFrom";import{timer}from"../observable/timer";function repeat(r){var e,b,c=1/0;return null!=r&&("object"==typeof r?(e=r.count,c=void 0===e?1/0:e,b=r.delay):c=r),c<=0?function(){return EMPTY}:operate(function(e,o){var t,i=0,n=function(){var r,e;null!=t&&t.unsubscribe(),(t=null)!=b?(r="number"==typeof b?timer(b):innerFrom(b(i)),e=createOperatorSubscriber(o,function(){e.unsubscribe(),u()}),r.subscribe(e)):u()},u=function(){var r=!1;t=e.subscribe(createOperatorSubscriber(o,void 0,function(){++i<c?t?n():r=!0:o.complete()})),r&&n()};u()})}export{repeat};