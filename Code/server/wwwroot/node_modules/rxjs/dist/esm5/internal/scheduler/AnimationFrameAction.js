import{__extends}from"tslib";import{AsyncAction}from"./AsyncAction";import{animationFrameProvider}from"./animationFrameProvider";var AnimationFrameAction=(i=>{function n(n,e){var t=i.call(this,n,e)||this;return t.scheduler=n,t.work=e,t}return __extends(n,i),n.prototype.requestAsyncId=function(n,e,t){return null!==(t=void 0===t?0:t)&&0<t?i.prototype.requestAsyncId.call(this,n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=animationFrameProvider.requestAnimationFrame(function(){return n.flush(void 0)})))},n.prototype.recycleAsyncId=function(n,e,t){if(null!=(t=void 0===t?0:t)?0<t:0<this.delay)return i.prototype.recycleAsyncId.call(this,n,e,t);var t=n.actions;null!=e&&e===n._scheduled&&(null==(t=t[t.length-1])?void 0:t.id)!==e&&(animationFrameProvider.cancelAnimationFrame(e),n._scheduled=void 0)},n})(AsyncAction);export{AnimationFrameAction};