import{__read,__spreadArray}from"tslib";import{isScheduler}from"../util/isScheduler";import{Observable}from"../Observable";import{subscribeOn}from"../operators/subscribeOn";import{mapOneOrManyArgs}from"../util/mapOneOrManyArgs";import{observeOn}from"../operators/observeOn";import{AsyncSubject}from"../AsyncSubject";function bindCallbackInternals(o,l,n,t){if(n){if(!isScheduler(n))return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return bindCallbackInternals(o,l,t).apply(this,r).pipe(mapOneOrManyArgs(n))};t=n}return t?function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return bindCallbackInternals(o,l).apply(this,r).pipe(subscribeOn(t),observeOn(t))}:function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=new AsyncSubject,s=!0;return new Observable(function(r){var t,a,r=i.subscribe(r);return s&&(t=s=!1,a=!1,l.apply(e,__spreadArray(__spreadArray([],__read(n)),[function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(o){var n=r.shift();if(null!=n)return void i.error(n)}i.next(1<r.length?r:r[0]),a=!0,t&&i.complete()}])),a&&i.complete(),t=!0),r})}}export{bindCallbackInternals};