import{__read,__spreadArray}from"tslib";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{innerFrom}from"../observable/innerFrom";import{identity}from"../util/identity";import{noop}from"../util/noop";import{popResultSelector}from"../util/args";function withLatestFrom(){for(var p=[],r=0;r<arguments.length;r++)p[r]=arguments[r];var m=popResultSelector(p);return operate(function(r,t){for(var e=p.length,o=new Array(e),i=p.map(function(){return!1}),n=!1,a=0;a<e;a++)(e=>{innerFrom(p[e]).subscribe(createOperatorSubscriber(t,function(r){o[e]=r,!n&&!i[e]&&(i[e]=!0,n=i.every(identity))&&(i=null)},noop))})(a);r.subscribe(createOperatorSubscriber(t,function(r){n&&(r=__spreadArray([r],__read(o)),t.next(m?m.apply(void 0,__spreadArray([],__read(r))):r))}))})}export{withLatestFrom};