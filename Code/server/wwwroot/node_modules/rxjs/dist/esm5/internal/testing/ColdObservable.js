import{__extends}from"tslib";import{Observable}from"../Observable";import{Subscription}from"../Subscription";import{SubscriptionLoggable}from"./SubscriptionLoggable";import{applyMixins}from"../util/applyMixins";import{observeNotification}from"../Notification";var ColdObservable=(r=>{function e(e,s){var i=r.call(this,function(e){var s=this,i=s.logSubscribedFrame(),r=new Subscription;return r.add(new Subscription(function(){s.logUnsubscribedFrame(i)})),s.scheduleMessages(e),r})||this;return i.messages=e,i.subscriptions=[],i.scheduler=s,i}return __extends(e,r),e.prototype.scheduleMessages=function(e){for(var s=this.messages.length,i=0;i<s;i++){var r=this.messages[i];e.add(this.scheduler.schedule(function(e){var s=e.message.notification;observeNotification(s,e.subscriber)},r.frame,{message:r,subscriber:e}))}},e})(Observable);applyMixins(ColdObservable,[SubscriptionLoggable]);export{ColdObservable};