import{innerFrom}from"../observable/innerFrom";import{Subject}from"../Subject";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";function retryWhen(u){return operate(function(r,e){var t,o,n=!1,i=function(){t=r.subscribe(createOperatorSubscriber(e,void 0,void 0,function(r){o||(o=new Subject,innerFrom(u(o)).subscribe(createOperatorSubscriber(e,function(){return t?i():n=!0}))),o&&o.next(r)})),n&&(t.unsubscribe(),t=null,n=!1,i())};i()})}export{retryWhen};