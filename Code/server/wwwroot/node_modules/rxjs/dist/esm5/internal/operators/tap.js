import{isFunction}from"../util/isFunction";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{identity}from"../util/identity";function tap(r,t,e){var n=isFunction(r)||t||e?{next:r,error:t,complete:e}:r;return n?operate(function(r,e){null!=(t=n.subscribe)&&t.call(n);var t,i=!0;r.subscribe(createOperatorSubscriber(e,function(r){var t;null!=(t=n.next)&&t.call(n,r),e.next(r)},function(){var r;i=!1,null!=(r=n.complete)&&r.call(n),e.complete()},function(r){var t;i=!1,null!=(t=n.error)&&t.call(n,r),e.error(r)},function(){var r;i&&null!=(r=n.unsubscribe)&&r.call(n),null!=(r=n.finalize)&&r.call(n)}))}):identity}export{tap};