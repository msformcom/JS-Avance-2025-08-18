import{Observable}from"../Observable";import{argsArgArrayOrObject}from"../util/argsArgArrayOrObject";import{innerFrom}from"./innerFrom";import{popResultSelector}from"../util/args";import{createOperatorSubscriber}from"../operators/OperatorSubscriber";import{mapOneOrManyArgs}from"../util/mapOneOrManyArgs";import{createObject}from"../util/createObject";function forkJoin(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=popResultSelector(r),o=argsArgArrayOrObject(r),i=o.args,c=o.keys,o=new Observable(function(r){var e=i.length;if(e)for(var o=new Array(e),a=e,n=e,t=0;t<e;t++)(e=>{var t=!1;innerFrom(i[e]).subscribe(createOperatorSubscriber(r,function(r){t||(t=!0,n--),o[e]=r},function(){return a--},void 0,function(){a&&t||(n||r.next(c?createObject(c,o):o),r.complete())}))})(t);else r.complete()});return t?o.pipe(mapOneOrManyArgs(t)):o}export{forkJoin};