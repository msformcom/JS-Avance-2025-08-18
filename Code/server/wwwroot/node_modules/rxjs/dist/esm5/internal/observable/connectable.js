import{Subject}from"../Subject";import{Observable}from"../Observable";import{defer}from"./defer";var DEFAULT_CONFIG={connector:function(){return new Subject},resetOnDisconnect:!0};function connectable(e,n){var r=null,t=(n=void 0===n?DEFAULT_CONFIG:n).connector,n=n.resetOnDisconnect,c=void 0===n||n,o=t(),n=new Observable(function(e){return o.subscribe(e)});return n.connect=function(){return r&&!r.closed||(r=defer(function(){return e}).subscribe(o),c&&r.add(function(){return o=t()})),r},n}export{connectable};