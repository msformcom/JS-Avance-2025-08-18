import{Subject}from"../Subject";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{innerFrom}from"../observable/innerFrom";function windowWhen(i){return operate(function(r,e){var n,t,o=function(r){n.error(r),e.error(r)},u=function(){var r;null!=t&&t.unsubscribe(),null!=n&&n.complete(),n=new Subject,e.next(n.asObservable());try{r=innerFrom(i())}catch(r){return void o(r)}r.subscribe(t=createOperatorSubscriber(e,u,u,o))};u(),r.subscribe(createOperatorSubscriber(e,function(r){return n.next(r)},function(){n.complete(),e.complete()},o,function(){null!=t&&t.unsubscribe(),n=null}))})}export{windowWhen};