import{Observable}from"../../Observable";import{performanceTimestampProvider}from"../../scheduler/performanceTimestampProvider";import{animationFrameProvider}from"../../scheduler/animationFrameProvider";function animationFrames(r){return r?animationFramesFactory(r):DEFAULT_ANIMATION_FRAMES}function animationFramesFactory(t){return new Observable(function(a){var n=t||performanceTimestampProvider,i=n.now(),o=0,m=function(){a.closed||(o=animationFrameProvider.requestAnimationFrame(function(r){o=0;var e=n.now();a.next({timestamp:t?e:r,elapsed:e-i}),m()}))};return m(),function(){o&&animationFrameProvider.cancelAnimationFrame(o)}})}var DEFAULT_ANIMATION_FRAMES=animationFramesFactory();export{animationFrames};