import{map}from"./map";import{innerFrom}from"../observable/innerFrom";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";function exhaustMap(i,n){return n?function(r){return r.pipe(exhaustMap(function(t,o){return innerFrom(i(t,o)).pipe(map(function(r,e){return n(t,r,o,e)}))}))}:operate(function(r,e){var t=0,o=null,n=!1;r.subscribe(createOperatorSubscriber(e,function(r){o||(o=createOperatorSubscriber(e,void 0,function(){o=null,n&&e.complete()}),innerFrom(i(r,t++)).subscribe(o))},function(){n=!0,o||e.complete()}))})}export{exhaustMap};