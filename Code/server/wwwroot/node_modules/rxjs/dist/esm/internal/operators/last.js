import{EmptyError}from"../util/EmptyError";import{filter}from"./filter";import{takeLast}from"./takeLast";import{throwIfEmpty}from"./throwIfEmpty";import{defaultIfEmpty}from"./defaultIfEmpty";import{identity}from"../util/identity";function last(o,t){let r=2<=arguments.length;return m=>m.pipe(o?filter((t,r)=>o(t,r,m)):identity,takeLast(1),r?defaultIfEmpty(t):throwIfEmpty(()=>new EmptyError))}export{last};