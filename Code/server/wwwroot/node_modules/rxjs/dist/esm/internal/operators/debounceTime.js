import{asyncScheduler}from"../scheduler/async";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";function debounceTime(t,i=asyncScheduler){return operate((e,u)=>{let l=null,r=null,o=null,c=()=>{var e;l&&(l.unsubscribe(),l=null,e=r,r=null,u.next(e))};function n(){var e=o+t,r=i.now();r<e?(l=this.schedule(void 0,e-r),u.add(l)):c()}e.subscribe(createOperatorSubscriber(u,e=>{r=e,o=i.now(),l||(l=i.schedule(n,t),u.add(l))},()=>{c(),u.complete()},void 0,()=>{r=l=null}))})}export{debounceTime};