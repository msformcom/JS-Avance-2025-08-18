import{Observable}from"../Observable";import{Subscription}from"../Subscription";import{SubscriptionLoggable}from"./SubscriptionLoggable";import{applyMixins}from"../util/applyMixins";import{observeNotification}from"../Notification";class ColdObservable extends Observable{constructor(s,e){super(function(s){let e=this,i=e.logSubscribedFrame();var r=new Subscription;return r.add(new Subscription(()=>{e.logUnsubscribedFrame(i)})),e.scheduleMessages(s),r}),this.messages=s,this.subscriptions=[],this.scheduler=e}scheduleMessages(e){var i=this.messages.length;for(let s=0;s<i;s++){var r=this.messages[s];e.add(this.scheduler.schedule(s=>{var{message:{notification:s},subscriber:e}=s;observeNotification(s,e)},r.frame,{message:r,subscriber:e}))}}}applyMixins(ColdObservable,[SubscriptionLoggable]);export{ColdObservable};