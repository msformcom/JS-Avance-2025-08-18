import{Subject}from"../Subject";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";function windowCount(u,e=0){let i=0<e?e:u;return operate((e,o)=>{let b=[new Subject],r,n=0;o.next(b[0].asObservable()),e.subscribe(createOperatorSubscriber(o,e=>{for(var r of b)r.next(e);var t=n-u+1;0<=t&&t%i==0&&b.shift().complete(),++n%i==0&&(t=new Subject,b.push(t),o.next(t.asObservable()))},()=>{for(;0<b.length;)b.shift().complete();o.complete()},e=>{for(;0<b.length;)b.shift().error(e);o.error(e)},()=>{r=null,b=null}))})}export{windowCount};