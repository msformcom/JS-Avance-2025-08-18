import{EmptyError}from"../util/EmptyError";import{SequenceError}from"../util/SequenceError";import{NotFoundError}from"../util/NotFoundError";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";function single(m){return operate((e,o)=>{let t=!1,i,n=!1,u=0;e.subscribe(createOperatorSubscriber(o,r=>{n=!0,m&&!m(r,u++,e)||(t&&o.error(new SequenceError("Too many matching values")),t=!0,i=r)},()=>{t?(o.next(i),o.complete()):o.error(n?new NotFoundError("No matching values"):new EmptyError)}))})}export{single};