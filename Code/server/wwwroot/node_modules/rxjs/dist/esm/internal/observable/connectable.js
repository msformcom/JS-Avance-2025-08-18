import{Subject}from"../Subject";import{Observable}from"../Observable";import{defer}from"./defer";let DEFAULT_CONFIG={connector:()=>new Subject,resetOnDisconnect:!0};function connectable(e,n=DEFAULT_CONFIG){let c=null,{connector:r,resetOnDisconnect:t=!0}=n,o=r();n=new Observable(e=>o.subscribe(e));return n.connect=()=>(c&&!c.closed||(c=defer(()=>e).subscribe(o),t&&c.add(()=>o=r())),c),n}export{connectable};