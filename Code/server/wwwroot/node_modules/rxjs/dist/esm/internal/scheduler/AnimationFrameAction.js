import{AsyncAction}from"./AsyncAction";import{animationFrameProvider}from"./animationFrameProvider";class AnimationFrameAction extends AsyncAction{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&0<i?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=animationFrameProvider.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){if(null!=i?0<i:0<this.delay)return super.recycleAsyncId(e,n,i);var i=e.actions;null!=n&&n===e._scheduled&&(null==(i=i[i.length-1])?void 0:i.id)!==n&&(animationFrameProvider.cancelAnimationFrame(n),e._scheduled=void 0)}}export{AnimationFrameAction};