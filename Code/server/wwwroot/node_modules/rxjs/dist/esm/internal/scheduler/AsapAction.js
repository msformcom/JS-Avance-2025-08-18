import{AsyncAction}from"./AsyncAction";import{immediateProvider}from"./immediateProvider";class AsapAction extends AsyncAction{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,s=0){return null!==s&&0<s?super.requestAsyncId(e,i,s):(e.actions.push(this),e._scheduled||(e._scheduled=immediateProvider.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,i,s=0){if(null!=s?0<s:0<this.delay)return super.recycleAsyncId(e,i,s);var s=e.actions;null!=i&&(null==(s=s[s.length-1])?void 0:s.id)!==i&&(immediateProvider.clearImmediate(i),e._scheduled===i)&&(e._scheduled=void 0)}}export{AsapAction};