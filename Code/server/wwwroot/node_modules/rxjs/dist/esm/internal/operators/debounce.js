import{operate}from"../util/lift";import{noop}from"../util/noop";import{createOperatorSubscriber}from"./OperatorSubscriber";import{innerFrom}from"../observable/innerFrom";function debounce(b){return operate((r,e)=>{let o=!1,n=null,u=null,t=()=>{var r;null!=u&&u.unsubscribe(),u=null,o&&(o=!1,r=n,n=null,e.next(r))};r.subscribe(createOperatorSubscriber(e,r=>{null!=u&&u.unsubscribe(),o=!0,n=r,u=createOperatorSubscriber(e,t,noop),innerFrom(b(r)).subscribe(u)},()=>{t(),e.complete()},void 0,()=>{n=u=null}))})}export{debounce};