import{isFunction}from"../util/isFunction";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{identity}from"../util/identity";function tap(r,e,t){let i=isFunction(r)||e||t?{next:r,error:e,complete:t}:r;return i?operate((r,t)=>{var e;null!=(e=i.subscribe)&&e.call(i);let l=!0;r.subscribe(createOperatorSubscriber(t,r=>{var e;null!=(e=i.next)&&e.call(i,r),t.next(r)},()=>{var r;l=!1,null!=(r=i.complete)&&r.call(i),t.complete()},r=>{var e;l=!1,null!=(e=i.error)&&e.call(i,r),t.error(r)},()=>{var r;l&&null!=(r=i.unsubscribe)&&r.call(i),null!=(r=i.finalize)&&r.call(i)}))}):identity}export{tap};