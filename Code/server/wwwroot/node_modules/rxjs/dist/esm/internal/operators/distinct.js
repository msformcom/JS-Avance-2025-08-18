import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{noop}from"../util/noop";import{innerFrom}from"../observable/innerFrom";function distinct(i,e){return operate((r,o)=>{let t=new Set;r.subscribe(createOperatorSubscriber(o,r=>{var e=i?i(r):r;t.has(e)||(t.add(e),o.next(r))})),e&&innerFrom(e).subscribe(createOperatorSubscriber(o,()=>t.clear(),noop))})}export{distinct};