import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{arrRemove}from"../util/arrRemove";function bufferCount(a,i=null){return i=null!=i?i:a,operate((r,u)=>{let l=[],f=0;r.subscribe(createOperatorSubscriber(u,r=>{let e=null;f++%i==0&&l.push([]);for(var o of l)o.push(r),a<=o.length&&(e=null!=e?e:[]).push(o);if(e)for(var t of e)arrRemove(l,t),u.next(t)},()=>{for(var r of l)u.next(r);u.complete()},void 0,()=>{l=null}))})}export{bufferCount};