import{Subject}from"../Subject";import{Subscription}from"../Subscription";import{SubscriptionLoggable}from"./SubscriptionLoggable";import{applyMixins}from"../util/applyMixins";import{observeNotification}from"../Notification";class HotObservable extends Subject{constructor(e,i){super(),this.messages=e,this.subscriptions=[],this.scheduler=i}_subscribe(e){let i=this,s=i.logSubscribedFrame();var t=new Subscription;return t.add(new Subscription(()=>{i.logUnsubscribedFrame(s)})),t.add(super._subscribe(e)),t}setup(){let t=this;var e=t.messages.length;for(let s=0;s<e;s++)(()=>{let{notification:e,frame:i}=t.messages[s];t.scheduler.schedule(()=>{observeNotification(e,t)},i)})()}}applyMixins(HotObservable,[SubscriptionLoggable]);export{HotObservable};