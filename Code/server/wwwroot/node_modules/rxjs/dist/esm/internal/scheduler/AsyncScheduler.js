import{Scheduler}from"../Scheduler";class AsyncScheduler extends Scheduler{constructor(e,t=Scheduler.now){super(e,t),this.actions=[],this._active=!1}flush(t){var s=this.actions;if(this._active)s.push(t);else{let e;this._active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=s.shift());if(this._active=!1,e){for(;t=s.shift();)t.unsubscribe();throw e}}}}export{AsyncScheduler};