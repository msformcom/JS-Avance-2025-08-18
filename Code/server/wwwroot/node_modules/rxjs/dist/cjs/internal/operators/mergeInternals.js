Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeInternals=void 0;var innerFrom_1=require("../observable/innerFrom"),executeSchedule_1=require("../util/executeSchedule"),OperatorSubscriber_1=require("./OperatorSubscriber");function mergeInternals(e,n,t,u,c,i,o,r){var s=[],a=0,b=0,l=!1,f=function(){!l||s.length||a||n.complete()},p=function(e){return a<u?S(e):s.push(e)},S=function(e){i&&n.next(e),a++;var r=!1;innerFrom_1.innerFrom(t(e,b++)).subscribe(OperatorSubscriber_1.createOperatorSubscriber(n,function(e){null!=c&&c(e),i?p(e):n.next(e)},function(){r=!0},void 0,function(){if(r)try{a--;for(;s.length&&a<u;)(()=>{var e=s.shift();o?executeSchedule_1.executeSchedule(n,o,function(){return S(e)}):S(e)})();f()}catch(e){n.error(e)}}))};return e.subscribe(OperatorSubscriber_1.createOperatorSubscriber(n,p,function(){l=!0,f()})),function(){null!=r&&r()}}exports.mergeInternals=mergeInternals;