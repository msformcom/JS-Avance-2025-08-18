Object.defineProperty(exports,"__esModule",{value:!0}),exports.throttle=void 0;var lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber"),innerFrom_1=require("../observable/innerFrom");function throttle(_,d){return lift_1.operate(function(r,e){var t=null!=d?d:{},n=t.leading,o=void 0===n||n,n=t.trailing,i=void 0!==n&&n,u=!1,l=null,c=null,b=!1,s=function(){null!=c&&c.unsubscribe(),c=null,i&&(f(),b)&&e.complete()},a=function(){c=null,b&&e.complete()},p=function(r){return c=innerFrom_1.innerFrom(_(r)).subscribe(OperatorSubscriber_1.createOperatorSubscriber(e,s,a))},f=function(){var r;u&&(u=!1,r=l,l=null,e.next(r),b||p(r))};r.subscribe(OperatorSubscriber_1.createOperatorSubscriber(e,function(r){u=!0,l=r,c&&!c.closed||(o?f():p(r))},function(){b=!0,i&&u&&c&&!c.closed||e.complete()}))})}exports.throttle=throttle;