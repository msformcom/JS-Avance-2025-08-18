var __extends=this&&this.__extends||(()=>{var o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}))(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}})(),Subject_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.HotObservable=void 0,require("../Subject")),Subscription_1=require("../Subscription"),SubscriptionLoggable_1=require("./SubscriptionLoggable"),applyMixins_1=require("../util/applyMixins"),Notification_1=require("../Notification"),HotObservable=(i=>{function t(t,e){var r=i.call(this)||this;return r.messages=t,r.subscriptions=[],r.scheduler=e,r}return __extends(t,i),t.prototype._subscribe=function(t){var e=this,r=e.logSubscribedFrame(),o=new Subscription_1.Subscription;return o.add(new Subscription_1.Subscription(function(){e.logUnsubscribedFrame(r)})),o.add(i.prototype._subscribe.call(this,t)),o},t.prototype.setup=function(){for(var r=this,t=r.messages.length,e=0;e<t;e++)(t=>{var e;t=r.messages[t],e=t.notification,r.scheduler.schedule(function(){Notification_1.observeNotification(e,r)},t.frame)})(e)},t})(Subject_1.Subject);exports.HotObservable=HotObservable,applyMixins_1.applyMixins(HotObservable,[SubscriptionLoggable_1.SubscriptionLoggable]);