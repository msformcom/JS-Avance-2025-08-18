var __extends=this&&this.__extends||(()=>{var r=function(t,n){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}))(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}})(),AsyncAction_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationFrameAction=void 0,require("./AsyncAction")),animationFrameProvider_1=require("./animationFrameProvider"),AnimationFrameAction=(r=>{function t(t,n){var e=r.call(this,t,n)||this;return e.scheduler=t,e.work=n,e}return __extends(t,r),t.prototype.requestAsyncId=function(t,n,e){return null!==(e=void 0===e?0:e)&&0<e?r.prototype.requestAsyncId.call(this,t,n,e):(t.actions.push(this),t._scheduled||(t._scheduled=animationFrameProvider_1.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,n,e){if(null!=(e=void 0===e?0:e)?0<e:0<this.delay)return r.prototype.recycleAsyncId.call(this,t,n,e);var e=t.actions;null!=n&&n===t._scheduled&&(null==(e=e[e.length-1])?void 0:e.id)!==n&&(animationFrameProvider_1.animationFrameProvider.cancelAnimationFrame(n),t._scheduled=void 0)},t})(AsyncAction_1.AsyncAction);exports.AnimationFrameAction=AnimationFrameAction;