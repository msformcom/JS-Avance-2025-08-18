var __values=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Subject_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowCount=void 0,require("../Subject")),lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber");function windowCount(a,e){var c=0<(e=void 0===e?0:e)?e:a;return lift_1.operate(function(e,i){var u=[new Subject_1.Subject],l=0;i.next(u[0].asObservable()),e.subscribe(OperatorSubscriber_1.createOperatorSubscriber(i,function(e){try{for(var r=__values(u),t=r.next();!t.done;t=r.next())t.value.next(e)}catch(e){n={error:e}}finally{try{t&&!t.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}var n,o=l-a+1;0<=o&&o%c==0&&u.shift().complete(),++l%c==0&&(n=new Subject_1.Subject,u.push(n),i.next(n.asObservable()))},function(){for(;0<u.length;)u.shift().complete();i.complete()},function(e){for(;0<u.length;)u.shift().error(e);i.error(e)},function(){u=null}))})}exports.windowCount=windowCount;