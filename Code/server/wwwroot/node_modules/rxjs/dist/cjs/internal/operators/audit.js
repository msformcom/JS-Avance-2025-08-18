Object.defineProperty(exports,"__esModule",{value:!0}),exports.audit=void 0;var lift_1=require("../util/lift"),innerFrom_1=require("../observable/innerFrom"),OperatorSubscriber_1=require("./OperatorSubscriber");function audit(c){return lift_1.operate(function(r,e){function t(){var r;null!=o&&o.unsubscribe(),o=null,i&&(i=!1,r=n,n=null,e.next(r)),l&&e.complete()}function u(){o=null,l&&e.complete()}var i=!1,n=null,o=null,l=!1;r.subscribe(OperatorSubscriber_1.createOperatorSubscriber(e,function(r){i=!0,n=r,o||innerFrom_1.innerFrom(c(r)).subscribe(o=OperatorSubscriber_1.createOperatorSubscriber(e,t,u))},function(){l=!0,i&&o&&!o.closed||e.complete()}))})}exports.audit=audit;