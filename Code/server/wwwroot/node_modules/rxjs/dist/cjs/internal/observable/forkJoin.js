Object.defineProperty(exports,"__esModule",{value:!0}),exports.forkJoin=void 0;var Observable_1=require("../Observable"),argsArgArrayOrObject_1=require("../util/argsArgArrayOrObject"),innerFrom_1=require("./innerFrom"),args_1=require("../util/args"),OperatorSubscriber_1=require("../operators/OperatorSubscriber"),mapOneOrManyArgs_1=require("../util/mapOneOrManyArgs"),createObject_1=require("../util/createObject");function forkJoin(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var a=args_1.popResultSelector(r),t=argsArgArrayOrObject_1.argsArgArrayOrObject(r),i=t.args,s=t.keys,t=new Observable_1.Observable(function(r){var e=i.length;if(e)for(var t=new Array(e),n=e,o=e,a=0;a<e;a++)(e=>{var a=!1;innerFrom_1.innerFrom(i[e]).subscribe(OperatorSubscriber_1.createOperatorSubscriber(r,function(r){a||(a=!0,o--),t[e]=r},function(){return n--},void 0,function(){n&&a||(o||r.next(s?createObject_1.createObject(s,t):t),r.complete())}))})(a);else r.complete()});return a?t.pipe(mapOneOrManyArgs_1.mapOneOrManyArgs(a)):t}exports.forkJoin=forkJoin;