var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r}).apply(this,arguments)},__rest=this&&this.__rest||function(r,e){var t={};for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(t[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(r);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(r,o[n])&&(t[o[n]]=r[o[n]]);return t},OperatorSubscriber_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromFetch=void 0,require("../../operators/OperatorSubscriber")),Observable_1=require("../../Observable"),innerFrom_1=require("../../observable/innerFrom");function fromFetch(c,r){var b=(r=void 0===r?{}:r).selector,l=__rest(r,["selector"]);return new Observable_1.Observable(function(e){function t(r){i=!1,e.error(r)}var r,n=new AbortController,o=n.signal,i=!0,s=l.signal,a=(s&&(s.aborted?n.abort():(s.addEventListener("abort",r=function(){o.aborted||n.abort()}),e.add(function(){return s.removeEventListener("abort",r)}))),__assign(__assign({},l),{signal:o}));return fetch(c,a).then(function(r){b?innerFrom_1.innerFrom(b(r)).subscribe(OperatorSubscriber_1.createOperatorSubscriber(e,void 0,function(){i=!1,e.complete()},t)):(i=!1,e.next(r),e.complete())}).catch(t),function(){i&&n.abort()}})}exports.fromFetch=fromFetch;