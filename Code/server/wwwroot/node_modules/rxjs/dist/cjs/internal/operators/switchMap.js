Object.defineProperty(exports,"__esModule",{value:!0}),exports.switchMap=void 0;var innerFrom_1=require("../observable/innerFrom"),lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber");function switchMap(b,s){return lift_1.operate(function(r,n){function u(){e&&!o&&n.complete()}var o=null,c=0,e=!1;r.subscribe(OperatorSubscriber_1.createOperatorSubscriber(n,function(e){null!=o&&o.unsubscribe();var i=0,t=c++;innerFrom_1.innerFrom(b(e,t)).subscribe(o=OperatorSubscriber_1.createOperatorSubscriber(n,function(r){return n.next(s?s(e,r,t,i++):r)},function(){o=null,u()}))},function(){e=!0,u()}))})}exports.switchMap=switchMap;