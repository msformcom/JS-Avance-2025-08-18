Object.defineProperty(exports,"__esModule",{value:!0}),exports.windowWhen=void 0;var Subject_1=require("../Subject"),lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber"),innerFrom_1=require("../observable/innerFrom");function windowWhen(o){return lift_1.operate(function(e,r){var n,t,u=function(e){n.error(e),r.error(e)},i=function(){var e;null!=t&&t.unsubscribe(),null!=n&&n.complete(),n=new Subject_1.Subject,r.next(n.asObservable());try{e=innerFrom_1.innerFrom(o())}catch(e){return void u(e)}e.subscribe(t=OperatorSubscriber_1.createOperatorSubscriber(r,i,i,u))};i(),e.subscribe(OperatorSubscriber_1.createOperatorSubscriber(r,function(e){return n.next(e)},function(){n.complete(),r.complete()},u,function(){null!=t&&t.unsubscribe(),n=null}))})}exports.windowWhen=windowWhen;