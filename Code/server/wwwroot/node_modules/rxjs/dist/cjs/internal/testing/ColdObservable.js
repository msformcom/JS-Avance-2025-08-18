var __extends=this&&this.__extends||(()=>{var s=function(e,r){return(s=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,r){e.__proto__=r}:function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}))(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=e}s(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}})(),Observable_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColdObservable=void 0,require("../Observable")),Subscription_1=require("../Subscription"),SubscriptionLoggable_1=require("./SubscriptionLoggable"),applyMixins_1=require("../util/applyMixins"),Notification_1=require("../Notification"),ColdObservable=(s=>{function e(e,r){var t=s.call(this,function(e){var r=this,t=r.logSubscribedFrame(),s=new Subscription_1.Subscription;return s.add(new Subscription_1.Subscription(function(){r.logUnsubscribedFrame(t)})),r.scheduleMessages(e),s})||this;return t.messages=e,t.subscriptions=[],t.scheduler=r,t}return __extends(e,s),e.prototype.scheduleMessages=function(e){for(var r=this.messages.length,t=0;t<r;t++){var s=this.messages[t];e.add(this.scheduler.schedule(function(e){var r=e.message.notification;Notification_1.observeNotification(r,e.subscriber)},s.frame,{message:s,subscriber:e}))}},e})(Observable_1.Observable);exports.ColdObservable=ColdObservable,applyMixins_1.applyMixins(ColdObservable,[SubscriptionLoggable_1.SubscriptionLoggable]);