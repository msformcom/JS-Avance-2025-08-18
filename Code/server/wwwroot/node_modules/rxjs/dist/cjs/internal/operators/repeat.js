Object.defineProperty(exports,"__esModule",{value:!0}),exports.repeat=void 0;var empty_1=require("../observable/empty"),lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber"),innerFrom_1=require("../observable/innerFrom"),timer_1=require("../observable/timer");function repeat(e){var r,b,a=1/0;return null!=e&&("object"==typeof e?(r=e.count,a=void 0===r?1/0:r,b=e.delay):a=e),a<=0?function(){return empty_1.EMPTY}:lift_1.operate(function(r,t){var i,o=0,u=function(){var e,r;null!=i&&i.unsubscribe(),(i=null)!=b?(e="number"==typeof b?timer_1.timer(b):innerFrom_1.innerFrom(b(o)),r=OperatorSubscriber_1.createOperatorSubscriber(t,function(){r.unsubscribe(),n()}),e.subscribe(r)):n()},n=function(){var e=!1;i=r.subscribe(OperatorSubscriber_1.createOperatorSubscriber(t,void 0,function(){++o<a?i?u():e=!0:t.complete()})),e&&u()};n()})}exports.repeat=repeat;