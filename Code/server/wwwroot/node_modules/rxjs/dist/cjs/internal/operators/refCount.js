Object.defineProperty(exports,"__esModule",{value:!0}),exports.refCount=void 0;var lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber");function refCount(){return lift_1.operate(function(o,t){var u=null,r=(o._refCount++,OperatorSubscriber_1.createOperatorSubscriber(t,void 0,void 0,void 0,function(){var r,e;!o||o._refCount<=0||0<--o._refCount?u=null:(r=o._connection,e=u,u=null,!r||e&&r!==e||r.unsubscribe(),t.unsubscribe())}));o.subscribe(r),r.closed||(u=o.connect())})}exports.refCount=refCount;