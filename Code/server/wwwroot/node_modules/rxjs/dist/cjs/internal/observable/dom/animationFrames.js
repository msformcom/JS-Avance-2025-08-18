Object.defineProperty(exports,"__esModule",{value:!0}),exports.animationFrames=void 0;var Observable_1=require("../../Observable"),performanceTimestampProvider_1=require("../../scheduler/performanceTimestampProvider"),animationFrameProvider_1=require("../../scheduler/animationFrameProvider");function animationFrames(e){return e?animationFramesFactory(e):DEFAULT_ANIMATION_FRAMES}function animationFramesFactory(t){return new Observable_1.Observable(function(a){var i=t||performanceTimestampProvider_1.performanceTimestampProvider,n=i.now(),o=0,m=function(){a.closed||(o=animationFrameProvider_1.animationFrameProvider.requestAnimationFrame(function(e){o=0;var r=i.now();a.next({timestamp:t?r:e,elapsed:r-n}),m()}))};return m(),function(){o&&animationFrameProvider_1.animationFrameProvider.cancelAnimationFrame(o)}})}exports.animationFrames=animationFrames;var DEFAULT_ANIMATION_FRAMES=animationFramesFactory();