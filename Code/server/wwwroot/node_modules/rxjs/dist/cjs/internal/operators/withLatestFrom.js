var __read=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var i,o,n=t.call(r),a=[];try{for(;(void 0===e||0<e--)&&!(i=n.next()).done;)a.push(i.value)}catch(r){o={error:r}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a},__spreadArray=this&&this.__spreadArray||function(r,e){for(var t=0,i=e.length,o=r.length;t<i;t++,o++)r[o]=e[t];return r},lift_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.withLatestFrom=void 0,require("../util/lift")),OperatorSubscriber_1=require("./OperatorSubscriber"),innerFrom_1=require("../observable/innerFrom"),identity_1=require("../util/identity"),noop_1=require("../util/noop"),args_1=require("../util/args");function withLatestFrom(){for(var u=[],r=0;r<arguments.length;r++)u[r]=arguments[r];var s=args_1.popResultSelector(u);return lift_1.operate(function(r,t){for(var e=u.length,i=new Array(e),o=u.map(function(){return!1}),n=!1,a=0;a<e;a++)(e=>{innerFrom_1.innerFrom(u[e]).subscribe(OperatorSubscriber_1.createOperatorSubscriber(t,function(r){i[e]=r,!n&&!o[e]&&(o[e]=!0,n=o.every(identity_1.identity))&&(o=null)},noop_1.noop))})(a);r.subscribe(OperatorSubscriber_1.createOperatorSubscriber(t,function(r){n&&(r=__spreadArray([r],__read(i)),t.next(s?s.apply(void 0,__spreadArray([],__read(r))):r))}))})}exports.withLatestFrom=withLatestFrom;