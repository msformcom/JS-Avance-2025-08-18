Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectable=void 0;var Subject_1=require("../Subject"),Observable_1=require("../Observable"),defer_1=require("./defer"),DEFAULT_CONFIG={connector:function(){return new Subject_1.Subject},resetOnDisconnect:!0};function connectable(e,n){var r=null,c=(n=void 0===n?DEFAULT_CONFIG:n).connector,n=n.resetOnDisconnect,t=void 0===n||n,o=c(),n=new Observable_1.Observable(function(e){return o.subscribe(e)});return n.connect=function(){return r&&!r.closed||(r=defer_1.defer(function(){return e}).subscribe(o),t&&r.add(function(){return o=c()})),r},n}exports.connectable=connectable;