Object.defineProperty(exports,"__esModule",{value:!0}),exports.exhaustMap=void 0;var map_1=require("./map"),innerFrom_1=require("../observable/innerFrom"),lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber");function exhaustMap(u,n){return n?function(r){return r.pipe(exhaustMap(function(t,i){return innerFrom_1.innerFrom(u(t,i)).pipe(map_1.map(function(r,e){return n(t,r,i,e)}))}))}:lift_1.operate(function(r,e){var t=0,i=null,n=!1;r.subscribe(OperatorSubscriber_1.createOperatorSubscriber(e,function(r){i||(i=OperatorSubscriber_1.createOperatorSubscriber(e,void 0,function(){i=null,n&&e.complete()}),innerFrom_1.innerFrom(u(r,t++)).subscribe(i))},function(){n=!0,i||e.complete()}))})}exports.exhaustMap=exhaustMap;