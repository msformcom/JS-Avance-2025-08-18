var __read=this&&this.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,o,a=t.call(r),i=[];try{for(;(void 0===e||0<e--)&&!(n=a.next()).done;)i.push(n.value)}catch(r){o={error:r}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i},__spreadArray=this&&this.__spreadArray||function(r,e){for(var t=0,n=e.length,o=r.length;t<n;t++,o++)r[o]=e[t];return r},Observable_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.zip=void 0,require("../Observable")),innerFrom_1=require("./innerFrom"),argsOrArgArray_1=require("../util/argsOrArgArray"),empty_1=require("./empty"),OperatorSubscriber_1=require("../operators/OperatorSubscriber"),args_1=require("../util/args");function zip(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var a=args_1.popResultSelector(r),i=argsOrArgArray_1.argsOrArgArray(r);return i.length?new Observable_1.Observable(function(t){for(var n=i.map(function(){return[]}),o=i.map(function(){return!1}),r=(t.add(function(){n=o=null}),0);!t.closed&&r<i.length;r++)(e=>{innerFrom_1.innerFrom(i[e]).subscribe(OperatorSubscriber_1.createOperatorSubscriber(t,function(r){n[e].push(r),n.every(function(r){return r.length})&&(r=n.map(function(r){return r.shift()}),t.next(a?a.apply(void 0,__spreadArray([],__read(r))):r),n.some(function(r,e){return!r.length&&o[e]}))&&t.complete()},function(){o[e]=!0,n[e].length||t.complete()}))})(r);return function(){n=o=null}}):empty_1.EMPTY}exports.zip=zip;