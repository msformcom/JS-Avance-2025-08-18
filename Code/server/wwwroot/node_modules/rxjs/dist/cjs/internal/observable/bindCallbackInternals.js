var __read=this&&this.__read||function(r,e){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var a,t,i=n.call(r),l=[];try{for(;(void 0===e||0<e--)&&!(a=i.next()).done;)l.push(a.value)}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return l},__spreadArray=this&&this.__spreadArray||function(r,e){for(var n=0,a=e.length,t=r.length;n<a;n++,t++)r[t]=e[n];return r},isScheduler_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindCallbackInternals=void 0,require("../util/isScheduler")),Observable_1=require("../Observable"),subscribeOn_1=require("../operators/subscribeOn"),mapOneOrManyArgs_1=require("../util/mapOneOrManyArgs"),observeOn_1=require("../operators/observeOn"),AsyncSubject_1=require("../AsyncSubject");function bindCallbackInternals(s,u,n,a){if(n){if(!isScheduler_1.isScheduler(n))return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return bindCallbackInternals(s,u,a).apply(this,r).pipe(mapOneOrManyArgs_1.mapOneOrManyArgs(n))};a=n}return a?function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return bindCallbackInternals(s,u).apply(this,r).pipe(subscribeOn_1.subscribeOn(a),observeOn_1.observeOn(a))}:function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=new AsyncSubject_1.AsyncSubject,l=!0;return new Observable_1.Observable(function(r){var a,t,r=i.subscribe(r);return l&&(a=l=!1,t=!1,u.apply(e,__spreadArray(__spreadArray([],__read(n)),[function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(s){var n=r.shift();if(null!=n)return void i.error(n)}i.next(1<r.length?r:r[0]),t=!0,a&&i.complete()}])),t&&i.complete(),a=!0),r})}}exports.bindCallbackInternals=bindCallbackInternals;