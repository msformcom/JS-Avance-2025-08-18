Object.defineProperty(exports,"__esModule",{value:!0}),exports.combineLatestInit=exports.combineLatest=void 0;var Observable_1=require("../Observable"),argsArgArrayOrObject_1=require("../util/argsArgArrayOrObject"),from_1=require("./from"),identity_1=require("../util/identity"),mapOneOrManyArgs_1=require("../util/mapOneOrManyArgs"),args_1=require("../util/args"),createObject_1=require("../util/createObject"),OperatorSubscriber_1=require("../operators/OperatorSubscriber"),executeSchedule_1=require("../util/executeSchedule");function combineLatest(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=args_1.popScheduler(e),i=args_1.popResultSelector(e),n=argsArgArrayOrObject_1.argsArgArrayOrObject(e),a=n.args,c=n.keys;return 0===a.length?from_1.from([],t):(n=new Observable_1.Observable(combineLatestInit(a,t,c?function(e){return createObject_1.createObject(c,e)}:identity_1.identity)),i?n.pipe(mapOneOrManyArgs_1.mapOneOrManyArgs(i)):n)}function combineLatestInit(u,o,s){return void 0===s&&(s=identity_1.identity),function(c){maybeSchedule(o,function(){for(var e=u.length,i=new Array(e),n=e,a=e,r=0;r<e;r++)(t=>{maybeSchedule(o,function(){var e=from_1.from(u[t],o),r=!1;e.subscribe(OperatorSubscriber_1.createOperatorSubscriber(c,function(e){i[t]=e,r||(r=!0,a--),a||c.next(s(i.slice()))},function(){--n||c.complete()}))},c)})(r)},c)}}function maybeSchedule(e,r,t){e?executeSchedule_1.executeSchedule(t,e,r):r()}exports.combineLatest=combineLatest,exports.combineLatestInit=combineLatestInit;