var __extends=this&&this.__extends||(()=>{var o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}})(),AsyncAction_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapAction=void 0,require("./AsyncAction")),immediateProvider_1=require("./immediateProvider"),AsapAction=(o=>{function e(e,t){var r=o.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}return __extends(e,o),e.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r?o.prototype.requestAsyncId.call(this,e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=immediateProvider_1.immediateProvider.setImmediate(e.flush.bind(e,void 0))))},e.prototype.recycleAsyncId=function(e,t,r){if(null!=(r=void 0===r?0:r)?0<r:0<this.delay)return o.prototype.recycleAsyncId.call(this,e,t,r);var r=e.actions;null!=t&&(null==(r=r[r.length-1])?void 0:r.id)!==t&&(immediateProvider_1.immediateProvider.clearImmediate(t),e._scheduled===t)&&(e._scheduled=void 0)},e})(AsyncAction_1.AsyncAction);exports.AsapAction=AsapAction;