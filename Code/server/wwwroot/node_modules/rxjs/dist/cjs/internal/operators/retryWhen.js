Object.defineProperty(exports,"__esModule",{value:!0}),exports.retryWhen=void 0;var innerFrom_1=require("../observable/innerFrom"),Subject_1=require("../Subject"),lift_1=require("../util/lift"),OperatorSubscriber_1=require("./OperatorSubscriber");function retryWhen(b){return lift_1.operate(function(r,e){var t,i,n=!1,u=function(){t=r.subscribe(OperatorSubscriber_1.createOperatorSubscriber(e,void 0,void 0,function(r){i||(i=new Subject_1.Subject,innerFrom_1.innerFrom(b(i)).subscribe(OperatorSubscriber_1.createOperatorSubscriber(e,function(){return t?u():n=!0}))),i&&i.next(r)})),n&&(t.unsubscribe(),t=null,n=!1,u())};u()})}exports.retryWhen=retryWhen;