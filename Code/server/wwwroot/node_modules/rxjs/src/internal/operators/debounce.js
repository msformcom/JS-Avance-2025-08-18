import{operate}from"../util/lift";import{noop}from"../util/noop";import{createOperatorSubscriber}from"./OperatorSubscriber";import{innerFrom}from"../observable/innerFrom";function debounce(b){return operate((r,e)=>{let o=!1,n=null,t=null,u=()=>{var r;t?.unsubscribe(),t=null,o&&(o=!1,r=n,n=null,e.next(r))};r.subscribe(createOperatorSubscriber(e,r=>{t?.unsubscribe(),o=!0,n=r,t=createOperatorSubscriber(e,u,noop),innerFrom(b(r)).subscribe(t)},()=>{u(),e.complete()},void 0,()=>{n=t=null}))})}export{debounce};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZGVib3VuY2UudHMiXSwibmFtZXMiOlsib3BlcmF0ZSIsIm5vb3AiLCJjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIiLCJpbm5lckZyb20iLCJkZWJvdW5jZSIsImR1cmF0aW9uU2VsZWN0b3IiLCJzb3VyY2UiLCJzdWJzY3JpYmVyIiwibGV0IiwiaGFzVmFsdWUiLCJsYXN0VmFsdWUiLCJkdXJhdGlvblN1YnNjcmliZXIiLCJlbWl0IiwidmFsdWUiLCJ1bnN1YnNjcmliZSIsIm5leHQiLCJzdWJzY3JpYmUiLCJjb21wbGV0ZSIsInVuZGVmaW5lZCJdLCJtYXBwaW5ncyI6Ik9BRVNBLE9BQTZCLEtBQWQsc0JBQ2ZDLElBQTBCLEtBQWQsc0JBQ1pDLHdCQUFzRCxLQUF0Qiw4QkFDaENDLFNBQTBDLEtBQXpCLDBCQTREcEIsU0FBVUMsU0FBWUMsR0FDMUIsT0FBT0wsUUFBUSxDQUFDTSxFQUFRQyxLQUN0QkMsSUFBSUMsRUFBVyxDQUFBLEVBQ1hDLEVBQXNCLEtBRXRCQyxFQUE2QyxLQUUzQ0MsRUFBTyxLQU1YLElBR1FDLEVBTFJGLEdBQW9CRyxZQUFXLEVBQy9CSCxFQUFxQixLQUNqQkYsSUFFRkEsRUFBVyxDQUFBLEVBQ0xJLEVBQVFILEVBQ2RBLEVBQVksS0FDWkgsRUFBV1EsS0FBS0YsQ0FBSyxFQUV6QixFQUVBUCxFQUFPVSxVQUNMZCx5QkFDRUssRUFDQSxJQUlFSSxHQUFvQkcsWUFBVyxFQUMvQkwsRUFBVyxDQUFBLEVBQ1hDLEVBQVlHLEVBR1pGLEVBQXFCVCx5QkFBeUJLLEVBQVlLLEVBQU1YLElBQUksRUFFcEVFLFVBQVVFLEVBQWlCUSxDQUFLLENBQUMsRUFBRUcsVUFBVUwsQ0FBa0IsQ0FDakUsRUFDQSxLQUdFQyxFQUFJLEVBQ0pMLEVBQVdVLFNBQVEsQ0FDckIsRUFFQUMsS0FBQUEsRUFDQSxLQUVFUixFQUFZQyxFQUFxQixJQUNuQyxDQUFDLENBQ0YsQ0FFTCxDQUFDLENBQ0gsUUFyRGdCUCxRQXFEaEIiLCJmaWxlIjoibm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBFbWl0cyBhIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBvbmx5IGFmdGVyIGEgcGFydGljdWxhciB0aW1lIHNwYW5cbiAqIGRldGVybWluZWQgYnkgYW5vdGhlciBPYnNlcnZhYmxlIGhhcyBwYXNzZWQgd2l0aG91dCBhbm90aGVyIHNvdXJjZSBlbWlzc2lvbi5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBkZWJvdW5jZVRpbWV9LCBidXQgdGhlIHRpbWUgc3BhbiBvZlxuICogZW1pc3Npb24gc2lsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5IGEgc2Vjb25kIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShkZWJvdW5jZS5zdmcpXG4gKlxuICogYGRlYm91bmNlYCBkZWxheXMgbm90aWZpY2F0aW9ucyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgYnV0IGRyb3BzIHByZXZpb3VzXG4gKiBwZW5kaW5nIGRlbGF5ZWQgZW1pc3Npb25zIGlmIGEgbmV3IG5vdGlmaWNhdGlvbiBhcnJpdmVzIG9uIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIFRoaXMgb3BlcmF0b3Iga2VlcHMgdHJhY2sgb2YgdGhlIG1vc3QgcmVjZW50IG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUsIGFuZCBzcGF3bnMgYSBkdXJhdGlvbiBPYnNlcnZhYmxlIGJ5IGNhbGxpbmcgdGhlXG4gKiBgZHVyYXRpb25TZWxlY3RvcmAgZnVuY3Rpb24uIFRoZSBub3RpZmljYXRpb24gaXMgZW1pdHRlZCBvbmx5IHdoZW4gdGhlIGR1cmF0aW9uXG4gKiBPYnNlcnZhYmxlIGVtaXRzIGEgbmV4dCBub3RpZmljYXRpb24sIGFuZCBpZiBubyBvdGhlciBub3RpZmljYXRpb24gd2FzIGVtaXR0ZWQgb25cbiAqIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBzaW5jZSB0aGUgZHVyYXRpb24gT2JzZXJ2YWJsZSB3YXMgc3Bhd25lZC4gSWYgYSBuZXdcbiAqIG5vdGlmaWNhdGlvbiBhcHBlYXJzIGJlZm9yZSB0aGUgZHVyYXRpb24gT2JzZXJ2YWJsZSBlbWl0cywgdGhlIHByZXZpb3VzIG5vdGlmaWNhdGlvbiB3aWxsXG4gKiBub3QgYmUgZW1pdHRlZCBhbmQgYSBuZXcgZHVyYXRpb24gaXMgc2NoZWR1bGVkIGZyb20gYGR1cmF0aW9uU2VsZWN0b3JgIGlzIHNjaGVkdWxlZC5cbiAqIElmIHRoZSBjb21wbGV0aW5nIGV2ZW50IGhhcHBlbnMgZHVyaW5nIHRoZSBzY2hlZHVsZWQgZHVyYXRpb24gdGhlIGxhc3QgY2FjaGVkIG5vdGlmaWNhdGlvblxuICogaXMgZW1pdHRlZCBiZWZvcmUgdGhlIGNvbXBsZXRpb24gZXZlbnQgaXMgZm9yd2FyZGVkIHRvIHRoZSBvdXRwdXQgb2JzZXJ2YWJsZS5cbiAqIElmIHRoZSBlcnJvciBldmVudCBoYXBwZW5zIGR1cmluZyB0aGUgc2NoZWR1bGVkIGR1cmF0aW9uIG9yIGFmdGVyIGl0IG9ubHkgdGhlIGVycm9yIGV2ZW50IGlzXG4gKiBmb3J3YXJkZWQgdG8gdGhlIG91dHB1dCBvYnNlcnZhYmxlLiBUaGUgY2FjaGUgbm90aWZpY2F0aW9uIGlzIG5vdCBlbWl0dGVkIGluIHRoaXMgY2FzZS5cbiAqXG4gKiBMaWtlIHtAbGluayBkZWJvdW5jZVRpbWV9LCB0aGlzIGlzIGEgcmF0ZS1saW1pdGluZyBvcGVyYXRvciwgYW5kIGFsc28gYVxuICogZGVsYXktbGlrZSBvcGVyYXRvciBzaW5jZSBvdXRwdXQgZW1pc3Npb25zIGRvIG5vdCBuZWNlc3NhcmlseSBvY2N1ciBhdCB0aGVcbiAqIHNhbWUgdGltZSBhcyB0aGV5IGRpZCBvbiB0aGUgc291cmNlIE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgdGhlIG1vc3QgcmVjZW50IGNsaWNrIGFmdGVyIGEgYnVyc3Qgb2YgY2xpY2tzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgc2NhbiwgZGVib3VuY2UsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICBzY2FuKGkgPT4gKytpLCAxKSxcbiAqICAgZGVib3VuY2UoaSA9PiBpbnRlcnZhbCgyMDAgKiBpKSlcbiAqICk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgYXVkaXR9XG4gKiBAc2VlIHtAbGluayBhdWRpdFRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWJvdW5jZVRpbWV9XG4gKiBAc2VlIHtAbGluayBkZWxheX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZX1cbiAqIEBzZWUge0BsaW5rIHNhbXBsZVRpbWV9XG4gKiBAc2VlIHtAbGluayB0aHJvdHRsZX1cbiAqIEBzZWUge0BsaW5rIHRocm90dGxlVGltZX1cbiAqXG4gKiBAcGFyYW0gZHVyYXRpb25TZWxlY3RvciBBIGZ1bmN0aW9uXG4gKiB0aGF0IHJlY2VpdmVzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIGZvciBjb21wdXRpbmcgdGhlIHRpbWVvdXRcbiAqIGR1cmF0aW9uIGZvciBlYWNoIHNvdXJjZSB2YWx1ZSwgcmV0dXJuZWQgYXMgYW4gT2JzZXJ2YWJsZSBvciBhIFByb21pc2UuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBkZWxheXMgdGhlIGVtaXNzaW9ucyBvZlxuICogdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IHRoZSBzcGVjaWZpZWQgZHVyYXRpb24gT2JzZXJ2YWJsZSByZXR1cm5lZCBieVxuICogYGR1cmF0aW9uU2VsZWN0b3JgLCBhbmQgbWF5IGRyb3Agc29tZSB2YWx1ZXMgaWYgdGhleSBvY2N1ciB0b28gZnJlcXVlbnRseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlPFQ+KGR1cmF0aW9uU2VsZWN0b3I6ICh2YWx1ZTogVCkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgbGV0IGhhc1ZhbHVlID0gZmFsc2U7XG4gICAgbGV0IGxhc3RWYWx1ZTogVCB8IG51bGwgPSBudWxsO1xuICAgIC8vIFRoZSBzdWJzY3JpYmVyL3N1YnNjcmlwdGlvbiBmb3IgdGhlIGN1cnJlbnQgZGVib3VuY2UsIGlmIHRoZXJlIGlzIG9uZS5cbiAgICBsZXQgZHVyYXRpb25TdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4gfCBudWxsID0gbnVsbDtcblxuICAgIGNvbnN0IGVtaXQgPSAoKSA9PiB7XG4gICAgICAvLyBVbnN1YnNjcmliZSBhbnkgY3VycmVudCBkZWJvdW5jZSBzdWJzY3JpcHRpb24gd2UgaGF2ZSxcbiAgICAgIC8vIHdlIG9ubHkgY2FyZWQgYWJvdXQgdGhlIGZpcnN0IG5vdGlmaWNhdGlvbiBmcm9tIGl0LCBhbmQgd2VcbiAgICAgIC8vIHdhbnQgdG8gY2xlYW4gdGhhdCBzdWJzY3JpcHRpb24gdXAgYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAgICAgIGR1cmF0aW9uU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhIHZhbHVlISBGcmVlIHVwIG1lbW9yeSBmaXJzdCwgdGhlbiBlbWl0IHRoZSB2YWx1ZS5cbiAgICAgICAgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBsYXN0VmFsdWUhO1xuICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWU6IFQpID0+IHtcbiAgICAgICAgICAvLyBDYW5jZWwgYW55IHBlbmRpbmcgZGVib3VuY2UgZHVyYXRpb24uIFdlIGRvbid0XG4gICAgICAgICAgLy8gbmVlZCB0byBudWxsIGl0IG91dCBoZXJlIHlldCB0aG8sIGJlY2F1c2Ugd2UncmUganVzdCBnb2luZ1xuICAgICAgICAgIC8vIHRvIGNyZWF0ZSBhbm90aGVyIG9uZSBpbiBhIGZldyBsaW5lcy5cbiAgICAgICAgICBkdXJhdGlvblN1YnNjcmliZXI/LnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIC8vIENhcHR1cmUgb3VyIGR1cmF0aW9uIHN1YnNjcmliZXIsIHNvIHdlIGNhbiB1bnN1YnNjcmliZSBpdCB3aGVuIHdlJ3JlIG5vdGlmaWVkXG4gICAgICAgICAgLy8gYW5kIHdlJ3JlIGdvaW5nIHRvIGVtaXQgdGhlIHZhbHVlLlxuICAgICAgICAgIGR1cmF0aW9uU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbWl0LCBub29wKTtcbiAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIGR1cmF0aW9uLlxuICAgICAgICAgIGlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKGR1cmF0aW9uU3Vic2NyaWJlcik7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBTb3VyY2UgY29tcGxldGVkLlxuICAgICAgICAgIC8vIEVtaXQgYW55IHBlbmRpbmcgZGVib3VuY2VkIHZhbHVlcyB0aGVuIGNvbXBsZXRlXG4gICAgICAgICAgZW1pdCgpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUGFzcyBhbGwgZXJyb3JzIHRocm91Z2ggdG8gY29uc3VtZXJcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgLy8gRmluYWxpemF0aW9uLlxuICAgICAgICAgIGxhc3RWYWx1ZSA9IGR1cmF0aW9uU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiJdfQ==
