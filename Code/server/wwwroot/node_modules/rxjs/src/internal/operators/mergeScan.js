import{operate}from"../util/lift";import{mergeInternals}from"./mergeInternals";function mergeScan(n,m,o=1/0){return operate((e,r)=>{let t=m;return mergeInternals(e,r,(e,r)=>n(t,e,r),o,e=>{t=e},!1,void 0,()=>t=null)})}export{mergeScan};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuLnRzIl0sIm5hbWVzIjpbIm9wZXJhdGUiLCJtZXJnZUludGVybmFscyIsIm1lcmdlU2NhbiIsImFjY3VtdWxhdG9yIiwic2VlZCIsImNvbmN1cnJlbnQiLCJJbmZpbml0eSIsInNvdXJjZSIsInN1YnNjcmliZXIiLCJsZXQiLCJzdGF0ZSIsInZhbHVlIiwiaW5kZXgiLCJ1bmRlZmluZWQiXSwibWFwcGluZ3MiOiJPQUNTQSxPQUE2QixLQUFkLHNCQUNmQyxjQUF3QyxLQUFsQixtQkFtRXpCLFNBQVVDLFVBQ2RDLEVBQ0FDLEVBQ0FDLEVBQWFDLEVBQUFBLEdBRWIsT0FBT04sUUFBUSxDQUFDTyxFQUFRQyxLQUV0QkMsSUFBSUMsRUFBUU4sRUFFWixPQUFPSCxlQUNMTSxFQUNBQyxFQUNBLENBQUNHLEVBQU9DLElBQVVULEVBQVlPLEVBQU9DLEVBQU9DLENBQUssRUFDakRQLEVBQ0EsSUFDRUssRUFBUUMsQ0FDVixFQUNBLENBQUEsRUFDQUUsS0FBQUEsRUFDQSxJQUFPSCxFQUFRLElBQU0sQ0FFekIsQ0FBQyxDQUNILFFBdEJnQlIsU0FzQmhCIiwiZmlsZSI6Im5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VTY2FuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBtZXJnZUludGVybmFscyB9IGZyb20gJy4vbWVyZ2VJbnRlcm5hbHMnO1xuXG4vKipcbiAqIEFwcGxpZXMgYW4gYWNjdW11bGF0b3IgZnVuY3Rpb24gb3ZlciB0aGUgc291cmNlIE9ic2VydmFibGUgd2hlcmUgdGhlXG4gKiBhY2N1bXVsYXRvciBmdW5jdGlvbiBpdHNlbGYgcmV0dXJucyBhbiBPYnNlcnZhYmxlLCB0aGVuIGVhY2ggaW50ZXJtZWRpYXRlXG4gKiBPYnNlcnZhYmxlIHJldHVybmVkIGlzIG1lcmdlZCBpbnRvIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+SXQncyBsaWtlIHtAbGluayBzY2FufSwgYnV0IHRoZSBPYnNlcnZhYmxlcyByZXR1cm5lZFxuICogYnkgdGhlIGFjY3VtdWxhdG9yIGFyZSBtZXJnZWQgaW50byB0aGUgb3V0ZXIgT2JzZXJ2YWJsZS48L3NwYW4+XG4gKlxuICogVGhlIGZpcnN0IHBhcmFtZXRlciBvZiB0aGUgYG1lcmdlU2NhbmAgaXMgYW4gYGFjY3VtdWxhdG9yYCBmdW5jdGlvbiB3aGljaCBpc1xuICogYmVpbmcgY2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGVtaXRzIGEgdmFsdWUuIGBtZXJnZVNjYW5gIHdpbGxcbiAqIHN1YnNjcmliZSB0byB0aGUgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIGBhY2N1bXVsYXRvcmAgZnVuY3Rpb24gYW5kIHdpbGwgZW1pdFxuICogdmFsdWVzIHRvIHRoZSBzdWJzY3JpYmVyIGVtaXR0ZWQgYnkgaW5uZXIgT2JzZXJ2YWJsZS5cbiAqXG4gKiBUaGUgYGFjY3VtdWxhdG9yYCBmdW5jdGlvbiBpcyBiZWluZyBjYWxsZWQgd2l0aCB0aHJlZSBwYXJhbWV0ZXJzIHBhc3NlZCB0byBpdDpcbiAqIGBhY2NgLCBgdmFsdWVgIGFuZCBgaW5kZXhgLiBUaGUgYGFjY2AgcGFyYW1ldGVyIGlzIHVzZWQgYXMgdGhlIHN0YXRlIHBhcmFtZXRlclxuICogd2hvc2UgdmFsdWUgaXMgaW5pdGlhbGx5IHNldCB0byB0aGUgYHNlZWRgIHBhcmFtZXRlciAodGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAqIHBhc3NlZCB0byB0aGUgYG1lcmdlU2NhbmAgb3BlcmF0b3IpLlxuICpcbiAqIGBtZXJnZVNjYW5gIGludGVybmFsbHkga2VlcHMgdGhlIHZhbHVlIG9mIHRoZSBgYWNjYCBwYXJhbWV0ZXI6IGFzIGxvbmcgYXMgdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyB3aXRob3V0IGlubmVyIE9ic2VydmFibGUgZW1pdHRpbmcsIHRoZSBgYWNjYCB3aWxsIGJlXG4gKiBzZXQgdG8gYHNlZWRgLiBUaGUgbmV4dCB0aW1lIHRoZSBpbm5lciBPYnNlcnZhYmxlIGVtaXRzIGEgdmFsdWUsIGBtZXJnZVNjYW5gXG4gKiB3aWxsIGludGVybmFsbHkgcmVtZW1iZXIgaXQgYW5kIGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBgYWNjdW11bGF0b3JgXG4gKiBmdW5jdGlvbiBhcyBgYWNjYCBwYXJhbWV0ZXIgdGhlIG5leHQgdGltZSBzb3VyY2UgZW1pdHMuXG4gKlxuICogVGhlIGB2YWx1ZWAgcGFyYW1ldGVyIG9mIHRoZSBgYWNjdW11bGF0b3JgIGZ1bmN0aW9uIGlzIHRoZSB2YWx1ZSBlbWl0dGVkIGJ5IHRoZVxuICogc291cmNlIE9ic2VydmFibGUsIHdoaWxlIHRoZSBgaW5kZXhgIGlzIGEgbnVtYmVyIHdoaWNoIHJlcHJlc2VudCB0aGUgb3JkZXIgb2YgdGhlXG4gKiBjdXJyZW50IGVtaXNzaW9uIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gSXQgc3RhcnRzIHdpdGggMC5cbiAqXG4gKiBUaGUgbGFzdCBwYXJhbWV0ZXIgdG8gdGhlIGBtZXJnZVNjYW5gIGlzIHRoZSBgY29uY3VycmVudGAgdmFsdWUgd2hpY2ggZGVmYXVsdHNcbiAqIHRvIEluZmluaXR5LiBJdCByZXByZXNlbnRzIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpbm5lciBPYnNlcnZhYmxlIHN1YnNjcmlwdGlvbnNcbiAqIGF0IGEgdGltZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBjbGljayBldmVudHNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIG1lcmdlU2Nhbiwgb2YgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGljayQgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3Qgb25lJCA9IGNsaWNrJC5waXBlKG1hcCgoKSA9PiAxKSk7XG4gKiBjb25zdCBzZWVkID0gMDtcbiAqIGNvbnN0IGNvdW50JCA9IG9uZSQucGlwZShcbiAqICAgbWVyZ2VTY2FuKChhY2MsIG9uZSkgPT4gb2YoYWNjICsgb25lKSwgc2VlZClcbiAqICk7XG4gKlxuICogY291bnQkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzOlxuICogLy8gMVxuICogLy8gMlxuICogLy8gM1xuICogLy8gNFxuICogLy8gLi4uYW5kIHNvIG9uIGZvciBlYWNoIGNsaWNrXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBzY2FufVxuICogQHNlZSB7QGxpbmsgc3dpdGNoU2Nhbn1cbiAqXG4gKiBAcGFyYW0gYWNjdW11bGF0b3IgVGhlIGFjY3VtdWxhdG9yIGZ1bmN0aW9uIGNhbGxlZCBvbiBlYWNoIHNvdXJjZSB2YWx1ZS5cbiAqIEBwYXJhbSBzZWVkIFRoZSBpbml0aWFsIGFjY3VtdWxhdGlvbiB2YWx1ZS5cbiAqIEBwYXJhbSBjb25jdXJyZW50IE1heGltdW0gbnVtYmVyIG9mIGlucHV0IE9ic2VydmFibGVzIGJlaW5nIHN1YnNjcmliZWQgdG9cbiAqIGNvbmN1cnJlbnRseS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBvZiB0aGUgYWNjdW11bGF0ZWQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTY2FuPFQsIFI+KFxuICBhY2N1bXVsYXRvcjogKGFjYzogUiwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE9ic2VydmFibGVJbnB1dDxSPixcbiAgc2VlZDogUixcbiAgY29uY3VycmVudCA9IEluZmluaXR5XG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBhY2N1bXVsYXRlZCBzdGF0ZS5cbiAgICBsZXQgc3RhdGUgPSBzZWVkO1xuXG4gICAgcmV0dXJuIG1lcmdlSW50ZXJuYWxzKFxuICAgICAgc291cmNlLFxuICAgICAgc3Vic2NyaWJlcixcbiAgICAgICh2YWx1ZSwgaW5kZXgpID0+IGFjY3VtdWxhdG9yKHN0YXRlLCB2YWx1ZSwgaW5kZXgpLFxuICAgICAgY29uY3VycmVudCxcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBzdGF0ZSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICAgIGZhbHNlLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgKCkgPT4gKHN0YXRlID0gbnVsbCEpXG4gICAgKTtcbiAgfSk7XG59XG4iXX0=
