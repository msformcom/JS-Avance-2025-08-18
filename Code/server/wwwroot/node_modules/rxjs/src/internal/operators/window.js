import{Subject}from"../Subject";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{noop}from"../util/noop";import{innerFrom}from"../observable/innerFrom";function window(b){return operate((r,e)=>{let o=new Subject;e.next(o.asObservable());var t=r=>{o.error(r),e.error(r)};return r.subscribe(createOperatorSubscriber(e,r=>o?.next(r),()=>{o.complete(),e.complete()},t)),innerFrom(b).subscribe(createOperatorSubscriber(e,()=>{o.complete(),e.next(o=new Subject)},noop,t)),()=>{o?.unsubscribe(),o=null}})}export{window};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93LnRzIl0sIm5hbWVzIjpbIlN1YmplY3QiLCJvcGVyYXRlIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwibm9vcCIsImlubmVyRnJvbSIsIndpbmRvdyIsIndpbmRvd0JvdW5kYXJpZXMiLCJzb3VyY2UiLCJzdWJzY3JpYmVyIiwibGV0Iiwid2luZG93U3ViamVjdCIsIm5leHQiLCJhc09ic2VydmFibGUiLCJlcnJvckhhbmRsZXIiLCJlcnJvciIsImVyciIsInN1YnNjcmliZSIsInZhbHVlIiwiY29tcGxldGUiLCJ1bnN1YnNjcmliZSJdLCJtYXBwaW5ncyI6Ik9BRVNBLE9BQTJCLEtBQVosb0JBQ2ZDLE9BQTZCLEtBQWQsc0JBQ2ZDLHdCQUFzRCxLQUF0Qiw4QkFDaENDLElBQTBCLEtBQWQsc0JBQ1pDLFNBQTBDLEtBQXpCLDBCQThDcEIsU0FBVUMsT0FBVUMsR0FDeEIsT0FBT0wsUUFBUSxDQUFDTSxFQUFRQyxLQUN0QkMsSUFBSUMsRUFBNEIsSUFBSVYsUUFFcENRLEVBQVdHLEtBQUtELEVBQWNFLGFBQVksQ0FBRSxFQUU1QyxJQUFNQyxFQUFlLElBQ25CSCxFQUFjSSxNQUFNQyxDQUFHLEVBQ3ZCUCxFQUFXTSxNQUFNQyxDQUFHLENBQ3RCLEVBNEJBLE9BekJBUixFQUFPUyxVQUNMZCx5QkFDRU0sRUFDQSxHQUFXRSxHQUFlQyxLQUFLTSxDQUFLLEVBQ3BDLEtBQ0VQLEVBQWNRLFNBQVEsRUFDdEJWLEVBQVdVLFNBQVEsQ0FDckIsRUFDQUwsQ0FBWSxDQUNiLEVBSUhULFVBQVVFLENBQWdCLEVBQUVVLFVBQzFCZCx5QkFDRU0sRUFDQSxLQUNFRSxFQUFjUSxTQUFRLEVBQ3RCVixFQUFXRyxLQUFNRCxFQUFnQixJQUFJVixPQUFVLENBQ2pELEVBQ0FHLEtBQ0FVLENBQVksQ0FDYixFQUdJLEtBSUxILEdBQWVTLFlBQVcsRUFDMUJULEVBQWdCLElBQ2xCLENBQ0YsQ0FBQyxDQUNILFFBN0NnQkwsTUE2Q2hCIiwiZmlsZSI6Im5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvd2luZG93LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcblxuLyoqXG4gKiBCcmFuY2ggb3V0IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXMgYXMgYSBuZXN0ZWQgT2JzZXJ2YWJsZSB3aGVuZXZlclxuICogYHdpbmRvd0JvdW5kYXJpZXNgIGVtaXRzLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5JdCdzIGxpa2Uge0BsaW5rIGJ1ZmZlcn0sIGJ1dCBlbWl0cyBhIG5lc3RlZCBPYnNlcnZhYmxlXG4gKiBpbnN0ZWFkIG9mIGFuIGFycmF5Ljwvc3Bhbj5cbiAqXG4gKiAhW10od2luZG93LnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB3aW5kb3dzIG9mIGl0ZW1zIGl0IGNvbGxlY3RzIGZyb20gdGhlIHNvdXJjZVxuICogT2JzZXJ2YWJsZS4gVGhlIG91dHB1dCBPYnNlcnZhYmxlIGVtaXRzIGNvbm5lY3RlZCwgbm9uLW92ZXJsYXBwaW5nXG4gKiB3aW5kb3dzLiBJdCBlbWl0cyB0aGUgY3VycmVudCB3aW5kb3cgYW5kIG9wZW5zIGEgbmV3IG9uZSB3aGVuZXZlciB0aGVcbiAqIGB3aW5kb3dCb3VuZGFyaWVzYCBlbWl0cyBhbiBpdGVtLiBgd2luZG93Qm91bmRhcmllc2AgY2FuIGJlIGFueSB0eXBlIHRoYXRcbiAqIGBPYnNlcnZhYmxlSW5wdXRgIGFjY2VwdHMuIEl0IGludGVybmFsbHkgZ2V0cyBjb252ZXJ0ZWQgdG8gYW4gT2JzZXJ2YWJsZS5cbiAqIEJlY2F1c2UgZWFjaCB3aW5kb3cgaXMgYW4gT2JzZXJ2YWJsZSwgdGhlIG91dHB1dCBpcyBhIGhpZ2hlci1vcmRlciBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBJbiBldmVyeSB3aW5kb3cgb2YgMSBzZWNvbmQgZWFjaCwgZW1pdCBhdCBtb3N0IDIgY2xpY2sgZXZlbnRzXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgaW50ZXJ2YWwsIHdpbmRvdywgbWFwLCB0YWtlLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBzZWMgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKFxuICogICB3aW5kb3coc2VjKSxcbiAqICAgbWFwKHdpbiA9PiB3aW4ucGlwZSh0YWtlKDIpKSksIC8vIHRha2UgYXQgbW9zdCAyIGVtaXNzaW9ucyBmcm9tIGVhY2ggd2luZG93XG4gKiAgIG1lcmdlQWxsKCkgICAgICAgICAgICAgICAgICAgICAvLyBmbGF0dGVuIHRoZSBPYnNlcnZhYmxlLW9mLU9ic2VydmFibGVzXG4gKiApO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIHdpbmRvd0NvdW50fVxuICogQHNlZSB7QGxpbmsgd2luZG93VGltZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1RvZ2dsZX1cbiAqIEBzZWUge0BsaW5rIHdpbmRvd1doZW59XG4gKiBAc2VlIHtAbGluayBidWZmZXJ9XG4gKlxuICogQHBhcmFtIHdpbmRvd0JvdW5kYXJpZXMgQW4gYE9ic2VydmFibGVJbnB1dGAgdGhhdCBjb21wbGV0ZXMgdGhlXG4gKiBwcmV2aW91cyB3aW5kb3cgYW5kIHN0YXJ0cyBhIG5ldyB3aW5kb3cuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2Ygd2luZG93cywgd2hpY2ggYXJlXG4gKiBPYnNlcnZhYmxlcyBlbWl0dGluZyB2YWx1ZXMgb2YgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2luZG93PFQ+KHdpbmRvd0JvdW5kYXJpZXM6IE9ic2VydmFibGVJbnB1dDxhbnk+KTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZhYmxlPFQ+PiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgd2luZG93U3ViamVjdDogU3ViamVjdDxUPiA9IG5ldyBTdWJqZWN0PFQ+KCk7XG5cbiAgICBzdWJzY3JpYmVyLm5leHQod2luZG93U3ViamVjdC5hc09ic2VydmFibGUoKSk7XG5cbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSAoZXJyOiBhbnkpID0+IHtcbiAgICAgIHdpbmRvd1N1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICB9O1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIG91ciBzb3VyY2VcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAodmFsdWUpID0+IHdpbmRvd1N1YmplY3Q/Lm5leHQodmFsdWUpLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgd2luZG93U3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JIYW5kbGVyXG4gICAgICApXG4gICAgKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgd2luZG93IGJvdW5kYXJpZXMuXG4gICAgaW5uZXJGcm9tKHdpbmRvd0JvdW5kYXJpZXMpLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHdpbmRvd1N1YmplY3QuY29tcGxldGUoKTtcbiAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoKHdpbmRvd1N1YmplY3QgPSBuZXcgU3ViamVjdCgpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG5vb3AsXG4gICAgICAgIGVycm9ySGFuZGxlclxuICAgICAgKVxuICAgICk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgLy8gVW5zdWJzY3JpYmluZyB0aGUgc3ViamVjdCBlbnN1cmVzIHRoYXQgYW55b25lIHdobyBoYXMgY2FwdHVyZWRcbiAgICAgIC8vIGEgcmVmZXJlbmNlIHRvIHRoaXMgd2luZG93IHRoYXQgdHJpZXMgdG8gdXNlIGl0IGFmdGVyIGl0IGNhblxuICAgICAgLy8gbm8gbG9uZ2VyIGdldCB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIHdpbGwgZ2V0IGFuIE9iamVjdFVuc3Vic2NyaWJlZEVycm9yLlxuICAgICAgd2luZG93U3ViamVjdD8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHdpbmRvd1N1YmplY3QgPSBudWxsITtcbiAgICB9O1xuICB9KTtcbn1cbiJdfQ==
