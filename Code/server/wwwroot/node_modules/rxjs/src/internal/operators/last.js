import{EmptyError}from"../util/EmptyError";import{filter}from"./filter";import{takeLast}from"./takeLast";import{throwIfEmpty}from"./throwIfEmpty";import{defaultIfEmpty}from"./defaultIfEmpty";import{identity}from"../util/identity";function last(o,t){let r=2<=arguments.length;return m=>m.pipe(o?filter((t,r)=>o(t,r,m)):identity,takeLast(1),r?defaultIfEmpty(t):throwIfEmpty(()=>new EmptyError))}export{last};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbGFzdC50cyJdLCJuYW1lcyI6WyJFbXB0eUVycm9yIiwiZmlsdGVyIiwidGFrZUxhc3QiLCJ0aHJvd0lmRW1wdHkiLCJkZWZhdWx0SWZFbXB0eSIsImlkZW50aXR5IiwibGFzdCIsInByZWRpY2F0ZSIsImRlZmF1bHRWYWx1ZSIsImhhc0RlZmF1bHRWYWx1ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsInBpcGUiLCJ2IiwiaSJdLCJtYXBwaW5ncyI6Ik9BQ1NBLFVBQXNDLEtBQXBCLDRCQUVsQkMsTUFBd0IsS0FBVixrQkFDZEMsUUFBNEIsS0FBWixvQkFDaEJDLFlBQW9DLEtBQWhCLHdCQUNwQkMsY0FBd0MsS0FBbEIsMEJBQ3RCQyxRQUFrQyxLQUFsQixtQkF3RW5CLFNBQVVDLEtBQ2RDLEVBQ0FDLEdBRUEsSUFBTUMsRUFBc0MsR0FBcEJDLFVBQVVDLE9BQ2xDLE9BQU8sR0FDTEMsRUFBT0MsS0FDTE4sRUFBWU4sT0FBTyxDQUFDYSxFQUFHQyxJQUFNUixFQUFVTyxFQUFHQyxFQUFHSCxDQUFNLENBQUMsRUFBSVAsU0FDeERILFNBQVMsQ0FBQyxFQUNWTyxFQUFrQkwsZUFBZUksQ0FBYSxFQUFJTCxhQUFhLElBQU0sSUFBSUgsVUFBWSxDQUFDLENBRTVGLFFBWGdCTSxJQVdoQiIsImZpbGUiOiJub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL2xhc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi4vdXRpbC9FbXB0eUVycm9yJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24sIFRydXRoeVR5cGVzT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcic7XG5pbXBvcnQgeyB0YWtlTGFzdCB9IGZyb20gJy4vdGFrZUxhc3QnO1xuaW1wb3J0IHsgdGhyb3dJZkVtcHR5IH0gZnJvbSAnLi90aHJvd0lmRW1wdHknO1xuaW1wb3J0IHsgZGVmYXVsdElmRW1wdHkgfSBmcm9tICcuL2RlZmF1bHRJZkVtcHR5JztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQ+KHByZWRpY2F0ZTogQm9vbGVhbkNvbnN0cnVjdG9yKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUcnV0aHlUeXBlc09mPFQ+PjtcbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQsIEQ+KHByZWRpY2F0ZTogQm9vbGVhbkNvbnN0cnVjdG9yLCBkZWZhdWx0VmFsdWU6IEQpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRydXRoeVR5cGVzT2Y8VD4gfCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQsIEQgPSBUPihwcmVkaWNhdGU/OiBudWxsLCBkZWZhdWx0VmFsdWU/OiBEKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgRD47XG5leHBvcnQgZnVuY3Rpb24gbGFzdDxULCBTIGV4dGVuZHMgVD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IHZhbHVlIGlzIFMsXG4gIGRlZmF1bHRWYWx1ZT86IFNcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUz47XG5leHBvcnQgZnVuY3Rpb24gbGFzdDxULCBEID0gVD4oXG4gIHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4sXG4gIGRlZmF1bHRWYWx1ZT86IERcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgVCB8IEQ+O1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIG9ubHkgdGhlIGxhc3QgaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqIEl0IG9wdGlvbmFsbHkgdGFrZXMgYSBwcmVkaWNhdGUgZnVuY3Rpb24gYXMgYSBwYXJhbWV0ZXIsIGluIHdoaWNoIGNhc2UsIHJhdGhlciB0aGFuIGVtaXR0aW5nXG4gKiB0aGUgbGFzdCBpdGVtIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUgd2lsbCBlbWl0IHRoZSBsYXN0IGl0ZW1cbiAqIGZyb20gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHRoYXQgc2F0aXNmaWVzIHRoZSBwcmVkaWNhdGUuXG4gKlxuICogIVtdKGxhc3QucG5nKVxuICpcbiAqIEl0IHdpbGwgZW1pdCBhbiBlcnJvciBub3RpZmljYXRpb24gaWYgdGhlIHNvdXJjZSBjb21wbGV0ZXMgd2l0aG91dCBub3RpZmljYXRpb24gb3Igb25lIHRoYXQgbWF0Y2hlc1xuICogdGhlIHByZWRpY2F0ZS4gSXQgcmV0dXJucyB0aGUgbGFzdCB2YWx1ZSBvciBpZiBhIHByZWRpY2F0ZSBpcyBwcm92aWRlZCBsYXN0IHZhbHVlIHRoYXQgbWF0Y2hlcyB0aGVcbiAqIHByZWRpY2F0ZS4gSXQgcmV0dXJucyB0aGUgZ2l2ZW4gZGVmYXVsdCB2YWx1ZSBpZiBubyBub3RpZmljYXRpb24gaXMgZW1pdHRlZCBvciBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBMYXN0IGFscGhhYmV0IGZyb20gdGhlIHNlcXVlbmNlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIGxhc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBmcm9tKFsneCcsICd5JywgJ3onXSk7XG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZShsYXN0KCkpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUodmFsdWUgPT4gY29uc29sZS5sb2coYExhc3QgYWxwaGFiZXQ6ICR7IHZhbHVlIH1gKSk7XG4gKlxuICogLy8gT3V0cHV0c1xuICogLy8gTGFzdCBhbHBoYWJldDogelxuICogYGBgXG4gKlxuICogRGVmYXVsdCB2YWx1ZSB3aGVuIHRoZSB2YWx1ZSBpbiB0aGUgcHJlZGljYXRlIGlzIG5vdCBtYXRjaGVkXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIGxhc3QgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBmcm9tKFsneCcsICd5JywgJ3onXSk7XG4gKiBjb25zdCByZXN1bHQgPSBzb3VyY2UucGlwZShsYXN0KGNoYXIgPT4gY2hhciA9PT0gJ2EnLCAnbm90IGZvdW5kJykpO1xuICpcbiAqIHJlc3VsdC5zdWJzY3JpYmUodmFsdWUgPT4gY29uc29sZS5sb2coYCdhJyBpcyAkeyB2YWx1ZSB9LmApKTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyAnYScgaXMgbm90IGZvdW5kLlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqIEBzZWUge0BsaW5rIHNraXBVbnRpbH1cbiAqIEBzZWUge0BsaW5rIHNraXBMYXN0fVxuICogQHNlZSB7QGxpbmsgc2tpcFdoaWxlfVxuICogQHNlZSB7QGxpbmsgZmlyc3R9XG4gKlxuICogQHRocm93cyB7RW1wdHlFcnJvcn0gRGVsaXZlcnMgYW4gYEVtcHR5RXJyb3JgIHRvIHRoZSBPYnNlcnZlcidzIGBlcnJvcmBcbiAqIGNhbGxiYWNrIGlmIHRoZSBPYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgYW55IGBuZXh0YCBub3RpZmljYXRpb24gd2FzIHNlbnQuXG4gKlxuICogQHBhcmFtIHByZWRpY2F0ZSBUaGUgY29uZGl0aW9uIGFueSBzb3VyY2UgZW1pdHRlZCBpdGVtIGhhcyB0byBzYXRpc2Z5LlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBBbiBvcHRpb25hbCBkZWZhdWx0IHZhbHVlIHRvIHByb3ZpZGUgaWYgbGFzdCBgcHJlZGljYXRlYFxuICogaXNuJ3QgbWV0IG9yIG5vIHZhbHVlcyB3ZXJlIGVtaXR0ZWQuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBvbmx5IHRoZSBsYXN0IGl0ZW1cbiAqIHNhdGlzZnlpbmcgdGhlIGdpdmVuIGNvbmRpdGlvbiBmcm9tIHRoZSBzb3VyY2UsIG9yIGFuIGVycm9yIG5vdGlmaWNhdGlvblxuICogd2l0aCBhbiBgRW1wdHlFcnJvcmAgb2JqZWN0IGlmIG5vIHN1Y2ggaXRlbXMgYXJlIGVtaXR0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0PFQsIEQ+KFxuICBwcmVkaWNhdGU/OiAoKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBzb3VyY2U6IE9ic2VydmFibGU8VD4pID0+IGJvb2xlYW4pIHwgbnVsbCxcbiAgZGVmYXVsdFZhbHVlPzogRFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBUIHwgRD4ge1xuICBjb25zdCBoYXNEZWZhdWx0VmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PlxuICAgIHNvdXJjZS5waXBlKFxuICAgICAgcHJlZGljYXRlID8gZmlsdGVyKCh2LCBpKSA9PiBwcmVkaWNhdGUodiwgaSwgc291cmNlKSkgOiBpZGVudGl0eSxcbiAgICAgIHRha2VMYXN0KDEpLFxuICAgICAgaGFzRGVmYXVsdFZhbHVlID8gZGVmYXVsdElmRW1wdHkoZGVmYXVsdFZhbHVlISkgOiB0aHJvd0lmRW1wdHkoKCkgPT4gbmV3IEVtcHR5RXJyb3IoKSlcbiAgICApO1xufVxuIl19
