import{EmptyError}from"../util/EmptyError";import{SequenceError}from"../util/SequenceError";import{NotFoundError}from"../util/NotFoundError";import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";function single(m){return operate((e,o)=>{let t=!1,i,n=!1,u=0;e.subscribe(createOperatorSubscriber(o,r=>{n=!0,m&&!m(r,u++,e)||(t&&o.error(new SequenceError("Too many matching values")),t=!0,i=r)},()=>{t?(o.next(i),o.complete()):o.error(n?new NotFoundError("No matching values"):new EmptyError)}))})}export{single};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc2luZ2xlLnRzIl0sIm5hbWVzIjpbIkVtcHR5RXJyb3IiLCJTZXF1ZW5jZUVycm9yIiwiTm90Rm91bmRFcnJvciIsIm9wZXJhdGUiLCJjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIiLCJzaW5nbGUiLCJwcmVkaWNhdGUiLCJzb3VyY2UiLCJzdWJzY3JpYmVyIiwibGV0IiwiaGFzVmFsdWUiLCJzaW5nbGVWYWx1ZSIsInNlZW5WYWx1ZSIsImluZGV4Iiwic3Vic2NyaWJlIiwidmFsdWUiLCJlcnJvciIsIm5leHQiLCJjb21wbGV0ZSJdLCJtYXBwaW5ncyI6Ik9BQ1NBLFVBQXNDLEtBQXBCLDRCQUdsQkMsYUFBNEMsS0FBdkIsK0JBQ3JCQyxhQUE0QyxLQUF2QiwrQkFDckJDLE9BQTZCLEtBQWQsc0JBQ2ZDLHdCQUFzRCxLQUF0Qix1QkFxRm5DLFNBQVVDLE9BQVVDLEdBQ3hCLE9BQU9ILFFBQVEsQ0FBQ0ksRUFBUUMsS0FDdEJDLElBQUlDLEVBQVcsQ0FBQSxFQUNYQyxFQUNBQyxFQUFZLENBQUEsRUFDWkMsRUFBUSxFQUNaTixFQUFPTyxVQUNMVix5QkFDRUksRUFDQSxJQUNFSSxFQUFZLENBQUEsRUFDUE4sR0FBYUEsQ0FBQUEsRUFBVVMsRUFBT0YsQ0FBSyxHQUFJTixDQUFNLElBQ2hERyxHQUFZRixFQUFXUSxNQUFNLElBQUlmLGNBQWMsMEJBQTBCLENBQUMsRUFDMUVTLEVBQVcsQ0FBQSxFQUNYQyxFQUFjSSxFQUVsQixFQUNBLEtBQ01MLEdBQ0ZGLEVBQVdTLEtBQUtOLENBQVcsRUFDM0JILEVBQVdVLFNBQVEsR0FFbkJWLEVBQVdRLE1BQU1KLEVBQVksSUFBSVYsY0FBYyxvQkFBb0IsRUFBSSxJQUFJRixVQUFZLENBRTNGLENBQUMsQ0FDRixDQUVMLENBQUMsQ0FDSCxRQTVCZ0JLLE1BNEJoQiIsImZpbGUiOiJub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NpbmdsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEVtcHR5RXJyb3IgfSBmcm9tICcuLi91dGlsL0VtcHR5RXJyb3InO1xuXG5pbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9wZXJhdG9yRnVuY3Rpb24sIFRydXRoeVR5cGVzT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBTZXF1ZW5jZUVycm9yIH0gZnJvbSAnLi4vdXRpbC9TZXF1ZW5jZUVycm9yJztcbmltcG9ydCB7IE5vdEZvdW5kRXJyb3IgfSBmcm9tICcuLi91dGlsL05vdEZvdW5kRXJyb3InO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGU8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRydXRoeVR5cGVzT2Y8VD4+O1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZTxUPihwcmVkaWNhdGU/OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCBhc3NlcnRzIHRoYXQgb25seSBvbmUgdmFsdWUgaXNcbiAqIGVtaXR0ZWQgZnJvbSB0aGUgb2JzZXJ2YWJsZSB0aGF0IG1hdGNoZXMgdGhlIHByZWRpY2F0ZS4gSWYgbm9cbiAqIHByZWRpY2F0ZSBpcyBwcm92aWRlZCwgdGhlbiBpdCB3aWxsIGFzc2VydCB0aGF0IHRoZSBvYnNlcnZhYmxlXG4gKiBvbmx5IGVtaXRzIG9uZSB2YWx1ZS5cbiAqXG4gKiBJZiB0aGUgc291cmNlIE9ic2VydmFibGUgZGlkIG5vdCBlbWl0IGBuZXh0YCBiZWZvcmUgY29tcGxldGlvbiwgaXRcbiAqIHdpbGwgZW1pdCBhbiB7QGxpbmsgRW1wdHlFcnJvcn0gdG8gdGhlIE9ic2VydmVyJ3MgYGVycm9yYCBjYWxsYmFjay5cbiAqXG4gKiBJbiB0aGUgZXZlbnQgdGhhdCB0d28gdmFsdWVzIGFyZSBmb3VuZCB0aGF0IG1hdGNoIHRoZSBwcmVkaWNhdGUsXG4gKiBvciB3aGVuIHRoZXJlIGFyZSB0d28gdmFsdWVzIGVtaXR0ZWQgYW5kIG5vIHByZWRpY2F0ZSwgaXQgd2lsbFxuICogZW1pdCBhIHtAbGluayBTZXF1ZW5jZUVycm9yfSB0byB0aGUgT2JzZXJ2ZXIncyBgZXJyb3JgIGNhbGxiYWNrLlxuICpcbiAqIEluIHRoZSBldmVudCB0aGF0IG5vIHZhbHVlcyBtYXRjaCB0aGUgcHJlZGljYXRlLCBpZiBvbmUgaXMgcHJvdmlkZWQsXG4gKiBpdCB3aWxsIGVtaXQgYSB7QGxpbmsgTm90Rm91bmRFcnJvcn0gdG8gdGhlIE9ic2VydmVyJ3MgYGVycm9yYCBjYWxsYmFjay5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRXhwZWN0IG9ubHkgYG5hbWVgIGJlZ2lubmluZyB3aXRoIGAnQidgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBzaW5nbGUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UxID0gb2YoXG4gKiAgeyBuYW1lOiAnQmVuJyB9LFxuICogIHsgbmFtZTogJ1RyYWN5JyB9LFxuICogIHsgbmFtZTogJ0xhbmV5JyB9LFxuICogIHsgbmFtZTogJ0xpbHknIH1cbiAqICk7XG4gKlxuICogc291cmNlMVxuICogICAucGlwZShzaW5nbGUoeCA9PiB4Lm5hbWUuc3RhcnRzV2l0aCgnQicpKSlcbiAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIC8vIEVtaXRzICdCZW4nXG4gKlxuICpcbiAqIGNvbnN0IHNvdXJjZTIgPSBvZihcbiAqICB7IG5hbWU6ICdCZW4nIH0sXG4gKiAgeyBuYW1lOiAnVHJhY3knIH0sXG4gKiAgeyBuYW1lOiAnQnJhZGxleScgfSxcbiAqICB7IG5hbWU6ICdMaW5jb2xuJyB9XG4gKiApO1xuICpcbiAqIHNvdXJjZTJcbiAqICAgLnBpcGUoc2luZ2xlKHggPT4geC5uYW1lLnN0YXJ0c1dpdGgoJ0InKSkpXG4gKiAgIC5zdWJzY3JpYmUoeyBlcnJvcjogZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSB9KTtcbiAqIC8vIEVycm9yIGVtaXR0ZWQ6IFNlcXVlbmNlRXJyb3IoJ1RvbyBtYW55IHZhbHVlcyBtYXRjaCcpXG4gKlxuICpcbiAqIGNvbnN0IHNvdXJjZTMgPSBvZihcbiAqICB7IG5hbWU6ICdMYW5leScgfSxcbiAqICB7IG5hbWU6ICdUcmFjeScgfSxcbiAqICB7IG5hbWU6ICdMaWx5JyB9LFxuICogIHsgbmFtZTogJ0xpbmNvbG4nIH1cbiAqICk7XG4gKlxuICogc291cmNlM1xuICogICAucGlwZShzaW5nbGUoeCA9PiB4Lm5hbWUuc3RhcnRzV2l0aCgnQicpKSlcbiAqICAgLnN1YnNjcmliZSh7IGVycm9yOiBlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpIH0pO1xuICogLy8gRXJyb3IgZW1pdHRlZDogTm90Rm91bmRFcnJvcignTm8gdmFsdWVzIG1hdGNoJylcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGZpcnN0fVxuICogQHNlZSB7QGxpbmsgZmluZH1cbiAqIEBzZWUge0BsaW5rIGZpbmRJbmRleH1cbiAqIEBzZWUge0BsaW5rIGVsZW1lbnRBdH1cbiAqXG4gKiBAdGhyb3dzIHtOb3RGb3VuZEVycm9yfSBEZWxpdmVycyBhIGBOb3RGb3VuZEVycm9yYCB0byB0aGUgT2JzZXJ2ZXIncyBgZXJyb3JgXG4gKiBjYWxsYmFjayBpZiB0aGUgT2JzZXJ2YWJsZSBjb21wbGV0ZXMgYmVmb3JlIGFueSBgbmV4dGAgbm90aWZpY2F0aW9uIHdhcyBzZW50LlxuICogQHRocm93cyB7U2VxdWVuY2VFcnJvcn0gRGVsaXZlcnMgYSBgU2VxdWVuY2VFcnJvcmAgaWYgbW9yZSB0aGFuIG9uZSB2YWx1ZSBpc1xuICogZW1pdHRlZCB0aGF0IG1hdGNoZXMgdGhlIHByb3ZpZGVkIHByZWRpY2F0ZS4gSWYgbm8gcHJlZGljYXRlIGlzIHByb3ZpZGVkLCBpdFxuICogd2lsbCBkZWxpdmVyIGEgYFNlcXVlbmNlRXJyb3JgIGlmIG1vcmUgdGhhbiBvbmUgdmFsdWUgY29tZXMgZnJvbSB0aGUgc291cmNlLlxuICogQHRocm93cyB7RW1wdHlFcnJvcn0gRGVsaXZlcnMgYW4gYEVtcHR5RXJyb3JgIGlmIG5vIHZhbHVlcyB3ZXJlIGBuZXh0YGVkIHByaW9yXG4gKiB0byBjb21wbGV0aW9uLlxuICpcbiAqIEBwYXJhbSBwcmVkaWNhdGUgQSBwcmVkaWNhdGUgZnVuY3Rpb24gdG8gZXZhbHVhdGUgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHNpbmdsZSBpdGVtXG4gKiBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IG1hdGNoZXMgdGhlIHByZWRpY2F0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZTxUPihwcmVkaWNhdGU/OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIsIHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT4gYm9vbGVhbik6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBsZXQgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICBsZXQgc2luZ2xlVmFsdWU6IFQ7XG4gICAgbGV0IHNlZW5WYWx1ZSA9IGZhbHNlO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgc2VlblZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUodmFsdWUsIGluZGV4KyssIHNvdXJjZSkpIHtcbiAgICAgICAgICAgIGhhc1ZhbHVlICYmIHN1YnNjcmliZXIuZXJyb3IobmV3IFNlcXVlbmNlRXJyb3IoJ1RvbyBtYW55IG1hdGNoaW5nIHZhbHVlcycpKTtcbiAgICAgICAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHNpbmdsZVZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKGhhc1ZhbHVlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoc2luZ2xlVmFsdWUpO1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHNlZW5WYWx1ZSA/IG5ldyBOb3RGb3VuZEVycm9yKCdObyBtYXRjaGluZyB2YWx1ZXMnKSA6IG5ldyBFbXB0eUVycm9yKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIl19
