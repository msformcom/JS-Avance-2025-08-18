import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{innerFrom}from"../observable/innerFrom";import{identity}from"../util/identity";import{noop}from"../util/noop";import{popResultSelector}from"../util/args";function withLatestFrom(...m){let e=popResultSelector(m);return operate((r,t)=>{var o=m.length;let i=new Array(o),p=m.map(()=>!1),n=!1;for(let e=0;e<o;e++)innerFrom(m[e]).subscribe(createOperatorSubscriber(t,r=>{i[e]=r,!n&&!p[e]&&(p[e]=!0,n=p.every(identity))&&(p=null)},noop));r.subscribe(createOperatorSubscriber(t,r=>{n&&(r=[r,...i],t.next(e?e(...r):r))}))})}export{withLatestFrom};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20udHMiXSwibmFtZXMiOlsib3BlcmF0ZSIsImNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciIsImlubmVyRnJvbSIsImlkZW50aXR5Iiwibm9vcCIsInBvcFJlc3VsdFNlbGVjdG9yIiwid2l0aExhdGVzdEZyb20iLCJpbnB1dHMiLCJwcm9qZWN0Iiwic291cmNlIiwic3Vic2NyaWJlciIsImxlbiIsImxlbmd0aCIsIm90aGVyVmFsdWVzIiwiQXJyYXkiLCJoYXNWYWx1ZSIsIm1hcCIsInJlYWR5IiwibGV0IiwiaSIsInN1YnNjcmliZSIsInZhbHVlIiwiZXZlcnkiLCJ2YWx1ZXMiLCJuZXh0Il0sIm1hcHBpbmdzIjoiT0FDU0EsT0FBNkIsS0FBZCxzQkFDZkMsd0JBQXNELEtBQXRCLDhCQUNoQ0MsU0FBMEMsS0FBekIsaUNBQ2pCQyxRQUFrQyxLQUFsQiwwQkFDaEJDLElBQTBCLEtBQWQsc0JBQ1pDLGlCQUF1QyxLQUFkLGVBb0Q1QixTQUFVQyxrQkFBd0JDLEdBQ3RDLElBQU1DLEVBQVVILGtCQUFrQkUsQ0FBTSxFQUV4QyxPQUFPUCxRQUFRLENBQUNTLEVBQVFDLEtBQ3RCLElBQU1DLEVBQU1KLEVBQU9LLE9BQ25CLElBQU1DLEVBQWMsSUFBSUMsTUFBTUgsQ0FBRyxFQUk3QkksRUFBV1IsRUFBT1MsSUFBSSxJQUFNLENBQUEsQ0FBSyxFQUdqQ0MsRUFBUSxDQUFBLEVBTVosSUFBS0MsSUFBSUMsRUFBSSxFQUFHQSxFQUFJUixFQUFLUSxDQUFDLEdBQ3hCakIsVUFBVUssRUFBT1ksRUFBRSxFQUFFQyxVQUNuQm5CLHlCQUNFUyxFQUNBLElBQ0VHLEVBQVlNLEdBQUtFLEVBQ1pKLENBQUFBLEdBQVVGLENBQUFBLEVBQVNJLEtBRXRCSixFQUFTSSxHQUFLLENBQUEsRUFLYkYsRUFBUUYsRUFBU08sTUFBTW5CLFFBQVEsS0FBT1ksRUFBVyxLQUV0RCxFQUdBWCxJQUFJLENBQ0wsRUFLTEssRUFBT1csVUFDTG5CLHlCQUF5QlMsRUFBWSxJQUMvQk8sSUFFSU0sRUFBUyxDQUFDRixFQUFPLEdBQUdSLEdBQzFCSCxFQUFXYyxLQUFLaEIsRUFBVUEsRUFBUSxHQUFHZSxDQUFNLEVBQUlBLENBQU0sRUFFekQsQ0FBQyxDQUFDLENBRU4sQ0FBQyxDQUNILFFBcERnQmpCLGNBb0RoQiIsImZpbGUiOiJub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3dpdGhMYXRlc3RGcm9tLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0VHVwbGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tPFQsIE8gZXh0ZW5kcyB1bmtub3duW10+KC4uLmlucHV0czogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPE8+XSk6IE9wZXJhdG9yRnVuY3Rpb248VCwgW1QsIC4uLk9dPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tPFQsIE8gZXh0ZW5kcyB1bmtub3duW10sIFI+KFxuICAuLi5pbnB1dHM6IFsuLi5PYnNlcnZhYmxlSW5wdXRUdXBsZTxPPiwgKC4uLnZhbHVlOiBbVCwgLi4uT10pID0+IFJdXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuXG4vKipcbiAqIENvbWJpbmVzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIG90aGVyIE9ic2VydmFibGVzIHRvIGNyZWF0ZSBhbiBPYnNlcnZhYmxlXG4gKiB3aG9zZSB2YWx1ZXMgYXJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgbGF0ZXN0IHZhbHVlcyBvZiBlYWNoLCBvbmx5IHdoZW4gdGhlXG4gKiBzb3VyY2UgZW1pdHMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPldoZW5ldmVyIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLCBpdFxuICogY29tcHV0ZXMgYSBmb3JtdWxhIHVzaW5nIHRoYXQgdmFsdWUgcGx1cyB0aGUgbGF0ZXN0IHZhbHVlcyBmcm9tIG90aGVyIGlucHV0XG4gKiBPYnNlcnZhYmxlcywgdGhlbiBlbWl0cyB0aGUgb3V0cHV0IG9mIHRoYXQgZm9ybXVsYS48L3NwYW4+XG4gKlxuICogIVtdKHdpdGhMYXRlc3RGcm9tLnBuZylcbiAqXG4gKiBgd2l0aExhdGVzdEZyb21gIGNvbWJpbmVzIGVhY2ggdmFsdWUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUgKHRoZVxuICogaW5zdGFuY2UpIHdpdGggdGhlIGxhdGVzdCB2YWx1ZXMgZnJvbSB0aGUgb3RoZXIgaW5wdXQgT2JzZXJ2YWJsZXMgb25seSB3aGVuXG4gKiB0aGUgc291cmNlIGVtaXRzIGEgdmFsdWUsIG9wdGlvbmFsbHkgdXNpbmcgYSBgcHJvamVjdGAgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lXG4gKiB0aGUgdmFsdWUgdG8gYmUgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuIEFsbCBpbnB1dCBPYnNlcnZhYmxlcyBtdXN0XG4gKiBlbWl0IGF0IGxlYXN0IG9uZSB2YWx1ZSBiZWZvcmUgdGhlIG91dHB1dCBPYnNlcnZhYmxlIHdpbGwgZW1pdCBhIHZhbHVlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBPbiBldmVyeSBjbGljayBldmVudCwgZW1pdCBhbiBhcnJheSB3aXRoIHRoZSBsYXRlc3QgdGltZXIgZXZlbnQgcGx1cyB0aGUgY2xpY2sgZXZlbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBpbnRlcnZhbCwgd2l0aExhdGVzdEZyb20gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgdGltZXIgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHdpdGhMYXRlc3RGcm9tKHRpbWVyKSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdH1cbiAqXG4gKiBAcGFyYW0gaW5wdXRzIEFuIGlucHV0IE9ic2VydmFibGUgdG8gY29tYmluZSB3aXRoIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS4gTW9yZVxuICogdGhhbiBvbmUgaW5wdXQgT2JzZXJ2YWJsZXMgbWF5IGJlIGdpdmVuIGFzIGFyZ3VtZW50LiBJZiB0aGUgbGFzdCBwYXJhbWV0ZXIgaXNcbiAqIGEgZnVuY3Rpb24sIGl0IHdpbGwgYmUgdXNlZCBhcyBhIHByb2plY3Rpb24gZnVuY3Rpb24gZm9yIGNvbWJpbmluZyB2YWx1ZXNcbiAqIHRvZ2V0aGVyLiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQsIGl0IHJlY2VpdmVzIGFsbCB2YWx1ZXMgaW4gb3JkZXIgb2YgdGhlXG4gKiBPYnNlcnZhYmxlcyBwYXNzZWQsIHdoZXJlIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSB2YWx1ZSBmcm9tIHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuIChlLmcuXG4gKiBgYS5waXBlKHdpdGhMYXRlc3RGcm9tKGIsIGMpLCBtYXAoKFthMSwgYjEsIGMxXSkgPT4gYTEgKyBiMSArIGMxKSlgKS4gSWYgdGhpc1xuICogaXMgbm90IHBhc3NlZCwgYXJyYXlzIHdpbGwgYmUgZW1pdHRlZCBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgb2YgcHJvamVjdGVkIHZhbHVlcyBmcm9tIHRoZVxuICogbW9zdCByZWNlbnQgdmFsdWVzIGZyb20gZWFjaCBpbnB1dCBPYnNlcnZhYmxlLCBvciBhbiBhcnJheSBvZiB0aGUgbW9zdFxuICogcmVjZW50IHZhbHVlcyBmcm9tIGVhY2ggaW5wdXQgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tPFQsIFI+KC4uLmlucHV0czogYW55W10pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFIgfCBhbnlbXT4ge1xuICBjb25zdCBwcm9qZWN0ID0gcG9wUmVzdWx0U2VsZWN0b3IoaW5wdXRzKSBhcyAoKC4uLmFyZ3M6IGFueVtdKSA9PiBSKSB8IHVuZGVmaW5lZDtcblxuICByZXR1cm4gb3BlcmF0ZSgoc291cmNlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3QgbGVuID0gaW5wdXRzLmxlbmd0aDtcbiAgICBjb25zdCBvdGhlclZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgIC8vIEFuIGFycmF5IG9mIHdoZXRoZXIgb3Igbm90IHRoZSBvdGhlciBzb3VyY2VzIGhhdmUgZW1pdHRlZC4gTWF0Y2hlZCB3aXRoIHRoZW0gYnkgaW5kZXguXG4gICAgLy8gVE9ETzogQXQgc29tZXBvaW50LCB3ZSBzaG91bGQgaW52ZXN0aWdhdGUgdGhlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucyBoZXJlLCBhbmQgbG9va1xuICAgIC8vIGludG8gdXNpbmcgYSBgU2V0KClgIGFuZCBjaGVja2luZyB0aGUgYHNpemVgIHRvIHNlZSBpZiB3ZSdyZSByZWFkeS5cbiAgICBsZXQgaGFzVmFsdWUgPSBpbnB1dHMubWFwKCgpID0+IGZhbHNlKTtcbiAgICAvLyBGbGlwcGVkIHRydWUgd2hlbiB3ZSBoYXZlIGF0IGxlYXN0IG9uZSB2YWx1ZSBmcm9tIGFsbCBvdGhlciBzb3VyY2VzIGFuZFxuICAgIC8vIHdlIGFyZSByZWFkeSB0byBzdGFydCBlbWl0dGluZyB2YWx1ZXMuXG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG5cbiAgICAvLyBPdGhlciBzb3VyY2VzLiBOb3RlIHRoYXQgaGVyZSB3ZSBhcmUgbm90IGNoZWNraW5nIGBzdWJzY3JpYmVyLmNsb3NlZGAsXG4gICAgLy8gdGhpcyBjYXVzZXMgYWxsIGlucHV0cyB0byBiZSBzdWJzY3JpYmVkIHRvLCBldmVuIGlmIG5vdGhpbmcgY2FuIGJlIGVtaXR0ZWRcbiAgICAvLyBmcm9tIHRoZW0uIFRoaXMgaXMgYW4gaW1wb3J0YW50IGRpc3RpbmN0aW9uIGJlY2F1c2Ugc3Vic2NyaXB0aW9uIGNvbnN0aXR1dGVzXG4gICAgLy8gYSBzaWRlLWVmZmVjdC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpbm5lckZyb20oaW5wdXRzW2ldKS5zdWJzY3JpYmUoXG4gICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgb3RoZXJWYWx1ZXNbaV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICghcmVhZHkgJiYgIWhhc1ZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCByZWFkeSB5ZXQsIGZsYWcgdG8gc2hvdyB0aGlzIG9ic2VydmFibGUgaGFzIGVtaXR0ZWQuXG4gICAgICAgICAgICAgIGhhc1ZhbHVlW2ldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSB0ZXJzZSBjb2RlLlxuICAgICAgICAgICAgICAvLyBJZiBhbGwgb2Ygb3VyIG90aGVyIG9ic2VydmFibGVzIGhhdmUgZW1pdHRlZCwgc2V0IGByZWFkeWAgdG8gYHRydWVgLFxuICAgICAgICAgICAgICAvLyBzbyB3ZSBrbm93IHdlIGNhbiBzdGFydCBlbWl0dGluZyB2YWx1ZXMsIHRoZW4gY2xlYW4gdXAgdGhlIGBoYXNWYWx1ZWAgYXJyYXksXG4gICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgbmVlZCBpdCBhbnltb3JlLlxuICAgICAgICAgICAgICAocmVhZHkgPSBoYXNWYWx1ZS5ldmVyeShpZGVudGl0eSkpICYmIChoYXNWYWx1ZSA9IG51bGwhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIENvbXBsZXRpbmcgb25lIG9mIHRoZSBvdGhlciBzb3VyY2VzIGhhc1xuICAgICAgICAgIC8vIG5vIGJlYXJpbmcgb24gdGhlIGNvbXBsZXRpb24gb2Ygb3VyIHJlc3VsdC5cbiAgICAgICAgICBub29wXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU291cmNlIHN1YnNjcmlwdGlvblxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChyZWFkeSkge1xuICAgICAgICAgIC8vIFdlIGhhdmUgYXQgbGVhc3Qgb25lIHZhbHVlIGZyb20gdGhlIG90aGVyIHNvdXJjZXMuIEdvIGFoZWFkIGFuZCBlbWl0LlxuICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFt2YWx1ZSwgLi4ub3RoZXJWYWx1ZXNdO1xuICAgICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0ID8gcHJvamVjdCguLi52YWx1ZXMpIDogdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9KTtcbn1cbiJdfQ==
