import{operate}from"../util/lift";import{createOperatorSubscriber}from"./OperatorSubscriber";import{identity}from"../util/identity";import{timer}from"../observable/timer";import{innerFrom}from"../observable/innerFrom";function retry(e=1/0){let r,{count:s=1/0,delay:l,resetOnSuccess:t=!1}=r=e&&"object"==typeof e?e:{count:e};return s<=0?identity:operate((r,o)=>{let b=0,n,u=()=>{let e=!1;n=r.subscribe(createOperatorSubscriber(o,e=>{t&&(b=0),o.next(e)},void 0,t=>{if(b++<s){let r=()=>{n?(n.unsubscribe(),n=null,u()):e=!0};if(null!=l){var i="number"==typeof l?timer(l):innerFrom(l(t,b));let e=createOperatorSubscriber(o,()=>{e.unsubscribe(),r()},()=>{o.complete()});i.subscribe(e)}else r()}else o.error(t)})),e&&(n.unsubscribe(),n=null,u())};u()})}export{retry};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnkudHMiXSwibmFtZXMiOlsib3BlcmF0ZSIsImNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciIsImlkZW50aXR5IiwidGltZXIiLCJpbm5lckZyb20iLCJyZXRyeSIsImNvbmZpZ09yQ291bnQiLCJJbmZpbml0eSIsImxldCIsImNvbmZpZyIsImNvdW50IiwiZGVsYXkiLCJyZXNldE9uU3VjY2VzcyIsInNvdXJjZSIsInN1YnNjcmliZXIiLCJzb0ZhciIsImlubmVyU3ViIiwic3Vic2NyaWJlRm9yUmV0cnkiLCJzeW5jVW5zdWIiLCJzdWJzY3JpYmUiLCJuZXh0IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJyZXN1YiIsInVuc3Vic2NyaWJlIiwibm90aWZpZXIiLCJlcnIiLCJub3RpZmllclN1YnNjcmliZXIiLCJjb21wbGV0ZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiT0FDU0EsT0FBNkIsS0FBZCxzQkFFZkMsd0JBQXNELEtBQXRCLDhCQUNoQ0MsUUFBa0MsS0FBbEIsMEJBQ2hCQyxLQUFrQyxLQUFyQiw2QkFDYkMsU0FBMEMsS0FBekIsMEJBNkVwQixTQUFVQyxNQUFTQyxFQUFzQ0MsRUFBQUEsR0FDN0RDLElBQUlDLEVBUUUsQ0FBRUMsTUFBQUEsRUFBUUgsRUFBQUEsRUFBVUksTUFBQUEsRUFBT0MsZUFBZ0JBLEVBQWlCLENBQUEsQ0FBSyxFQU5yRUgsRUFERUgsR0FBMEMsVUFBekIsT0FBT0EsRUFDakJBLEVBRUEsQ0FDUEksTUFBT0osQyxFQUtYLE9BQU9JLEdBQVMsRUFDWlIsU0FDQUYsUUFBUSxDQUFDYSxFQUFRQyxLQUNmTixJQUFJTyxFQUFRLEVBQ1JDLEVBQ0VDLEVBQW9CLEtBQ3hCVCxJQUFJVSxFQUFZLENBQUEsRUFDaEJGLEVBQVdILEVBQU9NLFVBQ2hCbEIseUJBQ0VhLEVBQ0EsSUFFTUYsSUFDRkcsRUFBUSxHQUVWRCxFQUFXTSxLQUFLQyxDQUFLLENBQ3ZCLEVBRUFDLEtBQUFBLEVBQ0EsSUFDRSxHQUFJUCxDQUFLLEdBQUtMLEVBQU8sQ0FFbkIsSUFBTWEsRUFBUSxLQUNSUCxHQUNGQSxFQUFTUSxZQUFXLEVBQ3BCUixFQUFXLEtBQ1hDLEVBQWlCLEdBRWpCQyxFQUFZLENBQUEsQ0FFaEIsRUFFQSxHQUFhLE1BQVRQLEVBQWUsQ0FJakIsSUFBTWMsRUFBNEIsVUFBakIsT0FBT2QsRUFBcUJSLE1BQU1RLENBQUssRUFBSVAsVUFBVU8sRUFBTWUsRUFBS1gsQ0FBSyxDQUFDLEVBQ3ZGLElBQU1ZLEVBQXFCMUIseUJBQ3pCYSxFQUNBLEtBSUVhLEVBQW1CSCxZQUFXLEVBQzlCRCxFQUFLLENBQ1AsRUFDQSxLQUdFVCxFQUFXYyxTQUFRLENBQ3JCLENBQUMsRUFFSEgsRUFBU04sVUFBVVEsQ0FBa0IsQ0FDdkMsTUFFRUosRUFBSyxDQUVULE1BR0VULEVBQVdlLE1BQU1ILENBQUcsQ0FFeEIsQ0FBQyxDQUNGLEVBRUNSLElBQ0ZGLEVBQVNRLFlBQVcsRUFDcEJSLEVBQVcsS0FDWEMsRUFBaUIsRUFFckIsRUFDQUEsRUFBaUIsQ0FDbkIsQ0FBQyxDQUNQLFFBcEZnQlosS0FvRmhCIiwiZmlsZSI6Im5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvcmV0cnkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyB0aW1lciB9IGZyb20gJy4uL29ic2VydmFibGUvdGltZXInO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuXG4vKipcbiAqIFRoZSB7QGxpbmsgcmV0cnl9IG9wZXJhdG9yIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBgcmV0cnlgIGVpdGhlciBhY2NlcHRzIGEgYG51bWJlcmBcbiAqIG9yIGFuIG9iamVjdCBkZXNjcmliZWQgYnkgdGhpcyBpbnRlcmZhY2UuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmV0cnlDb25maWcge1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHJldHJ5LiBJZiBgY291bnRgIGlzIG9taXR0ZWQsIGByZXRyeWAgd2lsbCB0cnkgdG9cbiAgICogcmVzdWJzY3JpYmUgb24gZXJyb3JzIGluZmluaXRlIG51bWJlciBvZiB0aW1lcy5cbiAgICovXG4gIGNvdW50PzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgYmVmb3JlIHJldHJ5aW5nLCBPUiBhIGZ1bmN0aW9uIHRvXG4gICAqIHJldHVybiBhIG5vdGlmaWVyIGZvciBkZWxheWluZy4gSWYgYSBmdW5jdGlvbiBpcyBnaXZlbiwgdGhhdCBmdW5jdGlvbiBzaG91bGRcbiAgICogcmV0dXJuIGEgbm90aWZpZXIgdGhhdCwgd2hlbiBpdCBlbWl0cyB3aWxsIHJldHJ5IHRoZSBzb3VyY2UuIElmIHRoZSBub3RpZmllclxuICAgKiBjb21wbGV0ZXMgX3dpdGhvdXRfIGVtaXR0aW5nLCB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCBjb21wbGV0ZSB3aXRob3V0IGVycm9yLFxuICAgKiBpZiB0aGUgbm90aWZpZXIgZXJyb3JzLCB0aGUgZXJyb3Igd2lsbCBiZSBwdXNoZWQgdG8gdGhlIHJlc3VsdC5cbiAgICovXG4gIGRlbGF5PzogbnVtYmVyIHwgKChlcnJvcjogYW55LCByZXRyeUNvdW50OiBudW1iZXIpID0+IE9ic2VydmFibGVJbnB1dDxhbnk+KTtcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIHJlc2V0IHRoZSByZXRyeSBjb3VudGVyIHdoZW4gdGhlIHJldHJpZWQgc3Vic2NyaXB0aW9uXG4gICAqIGVtaXRzIGl0cyBmaXJzdCB2YWx1ZS5cbiAgICovXG4gIHJlc2V0T25TdWNjZXNzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5PFQ+KGNvdW50PzogbnVtYmVyKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5PFQ+KGNvbmZpZzogUmV0cnlDb25maWcpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgc291cmNlIE9ic2VydmFibGUgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGFuIGBlcnJvcmAuXG4gKlxuICogSWYgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGNhbGxzIGBlcnJvcmAsIHRoaXMgbWV0aG9kIHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGZvciBhIG1heGltdW0gb2ZcbiAqIGBjb3VudGAgcmVzdWJzY3JpcHRpb25zIHJhdGhlciB0aGFuIHByb3BhZ2F0aW5nIHRoZSBgZXJyb3JgIGNhbGwuXG4gKlxuICogIVtdKHJldHJ5LnBuZylcbiAqXG4gKiBUaGUgbnVtYmVyIG9mIHJldHJpZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgYGNvdW50YCBwYXJhbWV0ZXIuIEl0IGNhbiBiZSBzZXQgZWl0aGVyIGJ5IHBhc3NpbmcgYSBudW1iZXIgdG9cbiAqIGByZXRyeWAgZnVuY3Rpb24gb3IgYnkgc2V0dGluZyBgY291bnRgIHByb3BlcnR5IHdoZW4gYHJldHJ5YCBpcyBjb25maWd1cmVkIHVzaW5nIHtAbGluayBSZXRyeUNvbmZpZ30uIElmXG4gKiBgY291bnRgIGlzIG9taXR0ZWQsIGByZXRyeWAgd2lsbCB0cnkgdG8gcmVzdWJzY3JpYmUgb24gZXJyb3JzIGluZmluaXRlIG51bWJlciBvZiB0aW1lcy5cbiAqXG4gKiBBbnkgYW5kIGFsbCBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aWxsIGJlIGVtaXR0ZWQgYnkgdGhlIHJlc3VsdGluZyBPYnNlcnZhYmxlLCBldmVuIHRob3NlXG4gKiBlbWl0dGVkIGR1cmluZyBmYWlsZWQgc3Vic2NyaXB0aW9ucy4gRm9yIGV4YW1wbGUsIGlmIGFuIE9ic2VydmFibGUgZmFpbHMgYXQgZmlyc3QgYnV0IGVtaXRzIGBbMSwgMl1gIHRoZW5cbiAqIHN1Y2NlZWRzIHRoZSBzZWNvbmQgdGltZSBhbmQgZW1pdHM6IGBbMSwgMiwgMywgNCwgNSwgY29tcGxldGVdYCB0aGVuIHRoZSBjb21wbGV0ZSBzdHJlYW0gb2YgZW1pc3Npb25zIGFuZFxuICogbm90aWZpY2F0aW9ucyB3b3VsZCBiZTogYFsxLCAyLCAxLCAyLCAzLCA0LCA1LCBjb21wbGV0ZV1gLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIG1lcmdlTWFwLCB0aHJvd0Vycm9yLCBvZiwgcmV0cnkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKTtcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKFxuICogICBtZXJnZU1hcCh2YWwgPT4gdmFsID4gNSA/IHRocm93RXJyb3IoKCkgPT4gJ0Vycm9yIScpIDogb2YodmFsKSksXG4gKiAgIHJldHJ5KDIpIC8vIHJldHJ5IDIgdGltZXMgb24gZXJyb3JcbiAqICk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh7XG4gKiAgIG5leHQ6IHZhbHVlID0+IGNvbnNvbGUubG9nKHZhbHVlKSxcbiAqICAgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZyhgJHsgZXJyIH06IFJldHJpZWQgMiB0aW1lcyB0aGVuIHF1aXQhYClcbiAqIH0pO1xuICpcbiAqIC8vIE91dHB1dDpcbiAqIC8vIDAuLjEuLjIuLjMuLjQuLjUuLlxuICogLy8gMC4uMS4uMi4uMy4uNC4uNS4uXG4gKiAvLyAwLi4xLi4yLi4zLi40Li41Li5cbiAqIC8vICdFcnJvciE6IFJldHJpZWQgMiB0aW1lcyB0aGVuIHF1aXQhJ1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgcmV0cnlXaGVufVxuICpcbiAqIEBwYXJhbSBjb25maWdPckNvdW50IEVpdGhlciBudW1iZXIgb2YgcmV0cnkgYXR0ZW1wdHMgYmVmb3JlIGZhaWxpbmcgb3IgYVxuICoge0BsaW5rIFJldHJ5Q29uZmlnfSBvYmplY3QuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoZVxuICogc291cmNlIHN0cmVhbSB3aGVuIHRoZSBzb3VyY2Ugc3RyZWFtIGVycm9ycywgYXQgbW9zdCBgY291bnRgIHRpbWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0cnk8VD4oY29uZmlnT3JDb3VudDogbnVtYmVyIHwgUmV0cnlDb25maWcgPSBJbmZpbml0eSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGxldCBjb25maWc6IFJldHJ5Q29uZmlnO1xuICBpZiAoY29uZmlnT3JDb3VudCAmJiB0eXBlb2YgY29uZmlnT3JDb3VudCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25maWcgPSBjb25maWdPckNvdW50O1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IHtcbiAgICAgIGNvdW50OiBjb25maWdPckNvdW50IGFzIG51bWJlcixcbiAgICB9O1xuICB9XG4gIGNvbnN0IHsgY291bnQgPSBJbmZpbml0eSwgZGVsYXksIHJlc2V0T25TdWNjZXNzOiByZXNldE9uU3VjY2VzcyA9IGZhbHNlIH0gPSBjb25maWc7XG5cbiAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICA/IGlkZW50aXR5XG4gICAgOiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgbGV0IHNvRmFyID0gMDtcbiAgICAgICAgbGV0IGlubmVyU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVGb3JSZXRyeSA9ICgpID0+IHtcbiAgICAgICAgICBsZXQgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSByZXNldHRpbmcgb24gc3VjY2Vzc1xuICAgICAgICAgICAgICAgIGlmIChyZXNldE9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgc29GYXIgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBDb21wbGV0aW9ucyBhcmUgcGFzc2VkIHRocm91Z2ggdG8gY29uc3VtZXIuXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzb0ZhcisrIDwgY291bnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBzdGlsbCB1bmRlciBvdXIgcmV0cnkgY291bnRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3ViID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVGb3JSZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIHNwZWNpZmllZCBhIHJldHJ5IGRlbGF5LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGV5IGdhdmUgdXMgYSBudW1iZXIsIHVzZSBhIHRpbWVyLCBvdGhlcndpc2UsIGl0J3MgYSBmdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHdlJ3JlIGdvaW5nIHRvIGNhbGwgaXQgdG8gZ2V0IGEgbm90aWZpZXIuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyID0gdHlwZW9mIGRlbGF5ID09PSAnbnVtYmVyJyA/IHRpbWVyKGRlbGF5KSA6IGlubmVyRnJvbShkZWxheShlcnIsIHNvRmFyKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHdlIGdldCB0aGUgZmlyc3Qgbm90aWZpY2F0aW9uLCB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5zdWJzY3JpYmUgZnJvbSB0aGUgbm90aWZpZXIsIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd2UgcmVzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWIoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBub3RpZmllciBjb21wbGV0ZWQgd2l0aG91dCBlbWl0dGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBhdXRob3IgaXMgdGVsbGluZyB1cyB0aGV5IHdhbnQgdG8gY29tcGxldGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUobm90aWZpZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdhcyBubyBub3RpZmllciBnaXZlbi4gSnVzdCByZXN1YiBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gV2UncmUgcGFzdCBvdXIgbWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy5cbiAgICAgICAgICAgICAgICAgIC8vIEp1c3Qgc2VuZCBhbG9uZyB0aGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1YnNjcmliZUZvclJldHJ5KCk7XG4gICAgICB9KTtcbn1cbiJdfQ==
