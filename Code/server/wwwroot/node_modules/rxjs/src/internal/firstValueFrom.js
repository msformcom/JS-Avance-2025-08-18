import{EmptyError}from"./util/EmptyError";import{SafeSubscriber}from"./Subscriber";function firstValueFrom(o,u){let i="object"==typeof u;return new Promise((e,r)=>{let t=new SafeSubscriber({next:r=>{e(r),t.unsubscribe()},error:r,complete:()=>{i?e(u.defaultValue):r(new EmptyError)}});o.subscribe(t)})}export{firstValueFrom};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9maXJzdFZhbHVlRnJvbS50cyJdLCJuYW1lcyI6WyJFbXB0eUVycm9yIiwiU2FmZVN1YnNjcmliZXIiLCJmaXJzdFZhbHVlRnJvbSIsInNvdXJjZSIsImNvbmZpZyIsImhhc0NvbmZpZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3Vic2NyaWJlciIsIm5leHQiLCJ2YWx1ZSIsInVuc3Vic2NyaWJlIiwiZXJyb3IiLCJjb21wbGV0ZSIsImRlZmF1bHRWYWx1ZSIsInN1YnNjcmliZSJdLCJtYXBwaW5ncyI6Ik9BQ1NBLFVBQXFDLEtBQW5CLDJCQUNsQkMsY0FBb0MsS0FBZCxlQXFEekIsU0FBVUMsZUFBcUJDLEVBQXVCQyxHQUMxRCxJQUFNQyxFQUE4QixVQUFsQixPQUFPRCxFQUN6QixPQUFPLElBQUlFLFFBQWUsQ0FBQ0MsRUFBU0MsS0FDbEMsSUFBTUMsRUFBYSxJQUFJUixlQUFrQixDQUN2Q1MsS0FBTSxJQUNKSCxFQUFRSSxDQUFLLEVBQ2JGLEVBQVdHLFlBQVcsQ0FDeEIsRUFDQUMsTUFBT0wsRUFDUE0sU0FBVSxLQUNKVCxFQUNGRSxFQUFRSCxFQUFRVyxZQUFZLEVBRTVCUCxFQUFPLElBQUlSLFVBQVksQ0FFM0IsQyxDQUNELEVBQ0RHLEVBQU9hLFVBQVVQLENBQVUsQ0FDN0IsQ0FBQyxDQUNILFFBbkJnQlAsY0FtQmhCIiwiZmlsZSI6Im5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9maXJzdFZhbHVlRnJvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4vdXRpbC9FbXB0eUVycm9yJztcbmltcG9ydCB7IFNhZmVTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBGaXJzdFZhbHVlRnJvbUNvbmZpZzxUPiB7XG4gIGRlZmF1bHRWYWx1ZTogVDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0VmFsdWVGcm9tPFQsIEQ+KHNvdXJjZTogT2JzZXJ2YWJsZTxUPiwgY29uZmlnOiBGaXJzdFZhbHVlRnJvbUNvbmZpZzxEPik6IFByb21pc2U8VCB8IEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0VmFsdWVGcm9tPFQ+KHNvdXJjZTogT2JzZXJ2YWJsZTxUPik6IFByb21pc2U8VD47XG5cbi8qKlxuICogQ29udmVydHMgYW4gb2JzZXJ2YWJsZSB0byBhIHByb21pc2UgYnkgc3Vic2NyaWJpbmcgdG8gdGhlIG9ic2VydmFibGUsXG4gKiBhbmQgcmV0dXJuaW5nIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSBhcyBzb29uIGFzIHRoZSBmaXJzdCB2YWx1ZVxuICogYXJyaXZlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLiBUaGUgc3Vic2NyaXB0aW9uIHdpbGwgdGhlbiBiZSBjbG9zZWQuXG4gKlxuICogSWYgdGhlIG9ic2VydmFibGUgc3RyZWFtIGNvbXBsZXRlcyBiZWZvcmUgYW55IHZhbHVlcyB3ZXJlIGVtaXR0ZWQsIHRoZVxuICogcmV0dXJuZWQgcHJvbWlzZSB3aWxsIHJlamVjdCB3aXRoIHtAbGluayBFbXB0eUVycm9yfSBvciB3aWxsIHJlc29sdmVcbiAqIHdpdGggdGhlIGRlZmF1bHQgdmFsdWUgaWYgYSBkZWZhdWx0IHdhcyBzcGVjaWZpZWQuXG4gKlxuICogSWYgdGhlIG9ic2VydmFibGUgc3RyZWFtIGVtaXRzIGFuIGVycm9yLCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIHJlamVjdFxuICogd2l0aCB0aGF0IGVycm9yLlxuICpcbiAqICoqV0FSTklORyoqOiBPbmx5IHVzZSB0aGlzIHdpdGggb2JzZXJ2YWJsZXMgeW91ICprbm93KiB3aWxsIGVtaXQgYXQgbGVhc3Qgb25lIHZhbHVlLFxuICogKk9SKiBjb21wbGV0ZS4gSWYgdGhlIHNvdXJjZSBvYnNlcnZhYmxlIGRvZXMgbm90IGVtaXQgb25lIHZhbHVlIG9yIGNvbXBsZXRlLCB5b3Ugd2lsbFxuICogZW5kIHVwIHdpdGggYSBwcm9taXNlIHRoYXQgaXMgaHVuZyB1cCwgYW5kIHBvdGVudGlhbGx5IGFsbCBvZiB0aGUgc3RhdGUgb2YgYW5cbiAqIGFzeW5jIGZ1bmN0aW9uIGhhbmdpbmcgb3V0IGluIG1lbW9yeS4gVG8gYXZvaWQgdGhpcyBzaXR1YXRpb24sIGxvb2sgaW50byBhZGRpbmdcbiAqIHNvbWV0aGluZyBsaWtlIHtAbGluayB0aW1lb3V0fSwge0BsaW5rIHRha2V9LCB7QGxpbmsgdGFrZVdoaWxlfSwgb3Ige0BsaW5rIHRha2VVbnRpbH1cbiAqIGFtb25nc3Qgb3RoZXJzLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBXYWl0IGZvciB0aGUgZmlyc3QgdmFsdWUgZnJvbSBhIHN0cmVhbSBhbmQgZW1pdCBpdCBmcm9tIGEgcHJvbWlzZSBpblxuICogYW4gYXN5bmMgZnVuY3Rpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIGZpcnN0VmFsdWVGcm9tIH0gZnJvbSAncnhqcyc7XG4gKlxuICogYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAqICAgY29uc3Qgc291cmNlJCA9IGludGVydmFsKDIwMDApO1xuICogICBjb25zdCBmaXJzdE51bWJlciA9IGF3YWl0IGZpcnN0VmFsdWVGcm9tKHNvdXJjZSQpO1xuICogICBjb25zb2xlLmxvZyhgVGhlIGZpcnN0IG51bWJlciBpcyAkeyBmaXJzdE51bWJlciB9YCk7XG4gKiB9XG4gKlxuICogZXhlY3V0ZSgpO1xuICpcbiAqIC8vIEV4cGVjdGVkIG91dHB1dDpcbiAqIC8vICdUaGUgZmlyc3QgbnVtYmVyIGlzIDAnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBsYXN0VmFsdWVGcm9tfVxuICpcbiAqIEBwYXJhbSBzb3VyY2UgdGhlIG9ic2VydmFibGUgdG8gY29udmVydCB0byBhIHByb21pc2VcbiAqIEBwYXJhbSBjb25maWcgYSBjb25maWd1cmF0aW9uIG9iamVjdCB0byBkZWZpbmUgdGhlIGBkZWZhdWx0VmFsdWVgIHRvIHVzZSBpZiB0aGUgc291cmNlIGNvbXBsZXRlcyB3aXRob3V0IGVtaXR0aW5nIGEgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0VmFsdWVGcm9tPFQsIEQ+KHNvdXJjZTogT2JzZXJ2YWJsZTxUPiwgY29uZmlnPzogRmlyc3RWYWx1ZUZyb21Db25maWc8RD4pOiBQcm9taXNlPFQgfCBEPiB7XG4gIGNvbnN0IGhhc0NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnO1xuICByZXR1cm4gbmV3IFByb21pc2U8VCB8IEQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBzdWJzY3JpYmVyID0gbmV3IFNhZmVTdWJzY3JpYmVyPFQ+KHtcbiAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgc3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICBpZiAoaGFzQ29uZmlnKSB7XG4gICAgICAgICAgcmVzb2x2ZShjb25maWchLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFbXB0eUVycm9yKCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pO1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH0pO1xufVxuIl19
