import{EmptyError}from"./util/EmptyError";function lastValueFrom(l,m){let u="object"==typeof m;return new Promise((r,e)=>{let t=!1,o;l.subscribe({next:r=>{o=r,t=!0},error:e,complete:()=>{t?r(o):u?r(m.defaultValue):e(new EmptyError)}})})}export{lastValueFrom};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9sYXN0VmFsdWVGcm9tLnRzIl0sIm5hbWVzIjpbIkVtcHR5RXJyb3IiLCJsYXN0VmFsdWVGcm9tIiwic291cmNlIiwiY29uZmlnIiwiaGFzQ29uZmlnIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJsZXQiLCJfaGFzVmFsdWUiLCJfdmFsdWUiLCJzdWJzY3JpYmUiLCJuZXh0IiwidmFsdWUiLCJlcnJvciIsImNvbXBsZXRlIiwiZGVmYXVsdFZhbHVlIl0sIm1hcHBpbmdzIjoiT0FDU0EsVUFBcUMsS0FBbkIsb0JBb0RyQixTQUFVQyxjQUFvQkMsRUFBdUJDLEdBQ3pELElBQU1DLEVBQThCLFVBQWxCLE9BQU9ELEVBQ3pCLE9BQU8sSUFBSUUsUUFBZSxDQUFDQyxFQUFTQyxLQUNsQ0MsSUFBSUMsRUFBWSxDQUFBLEVBQ1pDLEVBQ0pSLEVBQU9TLFVBQVUsQ0FDZkMsS0FBTSxJQUNKRixFQUFTRyxFQUNUSixFQUFZLENBQUEsQ0FDZCxFQUNBSyxNQUFPUCxFQUNQUSxTQUFVLEtBQ0pOLEVBQ0ZILEVBQVFJLENBQU0sRUFDTE4sRUFDVEUsRUFBUUgsRUFBUWEsWUFBWSxFQUU1QlQsRUFBTyxJQUFJUCxVQUFZLENBRTNCLEMsQ0FDRCxDQUNILENBQUMsQ0FDSCxRQXRCZ0JDLGFBc0JoQiIsImZpbGUiOiJub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvbGFzdFZhbHVlRnJvbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL09ic2VydmFibGUnO1xuaW1wb3J0IHsgRW1wdHlFcnJvciB9IGZyb20gJy4vdXRpbC9FbXB0eUVycm9yJztcblxuZXhwb3J0IGludGVyZmFjZSBMYXN0VmFsdWVGcm9tQ29uZmlnPFQ+IHtcbiAgZGVmYXVsdFZhbHVlOiBUO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGFzdFZhbHVlRnJvbTxULCBEPihzb3VyY2U6IE9ic2VydmFibGU8VD4sIGNvbmZpZzogTGFzdFZhbHVlRnJvbUNvbmZpZzxEPik6IFByb21pc2U8VCB8IEQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3RWYWx1ZUZyb208VD4oc291cmNlOiBPYnNlcnZhYmxlPFQ+KTogUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBvYnNlcnZhYmxlIHRvIGEgcHJvbWlzZSBieSBzdWJzY3JpYmluZyB0byB0aGUgb2JzZXJ2YWJsZSxcbiAqIHdhaXRpbmcgZm9yIGl0IHRvIGNvbXBsZXRlLCBhbmQgcmVzb2x2aW5nIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpdGggdGhlXG4gKiBsYXN0IHZhbHVlIGZyb20gdGhlIG9ic2VydmVkIHN0cmVhbS5cbiAqXG4gKiBJZiB0aGUgb2JzZXJ2YWJsZSBzdHJlYW0gY29tcGxldGVzIGJlZm9yZSBhbnkgdmFsdWVzIHdlcmUgZW1pdHRlZCwgdGhlXG4gKiByZXR1cm5lZCBwcm9taXNlIHdpbGwgcmVqZWN0IHdpdGgge0BsaW5rIEVtcHR5RXJyb3J9IG9yIHdpbGwgcmVzb2x2ZVxuICogd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZSBpZiBhIGRlZmF1bHQgd2FzIHNwZWNpZmllZC5cbiAqXG4gKiBJZiB0aGUgb2JzZXJ2YWJsZSBzdHJlYW0gZW1pdHMgYW4gZXJyb3IsIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgcmVqZWN0XG4gKiB3aXRoIHRoYXQgZXJyb3IuXG4gKlxuICogKipXQVJOSU5HKio6IE9ubHkgdXNlIHRoaXMgd2l0aCBvYnNlcnZhYmxlcyB5b3UgKmtub3cqIHdpbGwgY29tcGxldGUuIElmIHRoZSBzb3VyY2VcbiAqIG9ic2VydmFibGUgZG9lcyBub3QgY29tcGxldGUsIHlvdSB3aWxsIGVuZCB1cCB3aXRoIGEgcHJvbWlzZSB0aGF0IGlzIGh1bmcgdXAsIGFuZFxuICogcG90ZW50aWFsbHkgYWxsIG9mIHRoZSBzdGF0ZSBvZiBhbiBhc3luYyBmdW5jdGlvbiBoYW5naW5nIG91dCBpbiBtZW1vcnkuIFRvIGF2b2lkXG4gKiB0aGlzIHNpdHVhdGlvbiwgbG9vayBpbnRvIGFkZGluZyBzb21ldGhpbmcgbGlrZSB7QGxpbmsgdGltZW91dH0sIHtAbGluayB0YWtlfSxcbiAqIHtAbGluayB0YWtlV2hpbGV9LCBvciB7QGxpbmsgdGFrZVVudGlsfSBhbW9uZ3N0IG90aGVycy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogV2FpdCBmb3IgdGhlIGxhc3QgdmFsdWUgZnJvbSBhIHN0cmVhbSBhbmQgZW1pdCBpdCBmcm9tIGEgcHJvbWlzZSBpblxuICogYW4gYXN5bmMgZnVuY3Rpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIGxhc3RWYWx1ZUZyb20gfSBmcm9tICdyeGpzJztcbiAqXG4gKiBhc3luYyBmdW5jdGlvbiBleGVjdXRlKCkge1xuICogICBjb25zdCBzb3VyY2UkID0gaW50ZXJ2YWwoMjAwMCkucGlwZSh0YWtlKDEwKSk7XG4gKiAgIGNvbnN0IGZpbmFsTnVtYmVyID0gYXdhaXQgbGFzdFZhbHVlRnJvbShzb3VyY2UkKTtcbiAqICAgY29uc29sZS5sb2coYFRoZSBmaW5hbCBudW1iZXIgaXMgJHsgZmluYWxOdW1iZXIgfWApO1xuICogfVxuICpcbiAqIGV4ZWN1dGUoKTtcbiAqXG4gKiAvLyBFeHBlY3RlZCBvdXRwdXQ6XG4gKiAvLyAnVGhlIGZpbmFsIG51bWJlciBpcyA5J1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZmlyc3RWYWx1ZUZyb219XG4gKlxuICogQHBhcmFtIHNvdXJjZSB0aGUgb2JzZXJ2YWJsZSB0byBjb252ZXJ0IHRvIGEgcHJvbWlzZVxuICogQHBhcmFtIGNvbmZpZyBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIGRlZmluZSB0aGUgYGRlZmF1bHRWYWx1ZWAgdG8gdXNlIGlmIHRoZSBzb3VyY2UgY29tcGxldGVzIHdpdGhvdXQgZW1pdHRpbmcgYSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGFzdFZhbHVlRnJvbTxULCBEPihzb3VyY2U6IE9ic2VydmFibGU8VD4sIGNvbmZpZz86IExhc3RWYWx1ZUZyb21Db25maWc8RD4pOiBQcm9taXNlPFQgfCBEPiB7XG4gIGNvbnN0IGhhc0NvbmZpZyA9IHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnO1xuICByZXR1cm4gbmV3IFByb21pc2U8VCB8IEQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgX2hhc1ZhbHVlID0gZmFsc2U7XG4gICAgbGV0IF92YWx1ZTogVDtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQ6ICh2YWx1ZSkgPT4ge1xuICAgICAgICBfdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgX2hhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogcmVqZWN0LFxuICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgaWYgKF9oYXNWYWx1ZSkge1xuICAgICAgICAgIHJlc29sdmUoX3ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChoYXNDb25maWcpIHtcbiAgICAgICAgICByZXNvbHZlKGNvbmZpZyEuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVtcHR5RXJyb3IoKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xufVxuIl19
