import{AsyncScheduler}from"./AsyncScheduler";class AsapScheduler extends AsyncScheduler{flush(e){this._active=!0;var s=this._scheduled,i=(this._scheduled=void 0,this).actions;let t;e=e||i.shift();do{if(t=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===s&&i.shift());if(this._active=!1,t){for(;(e=i[0])&&e.id===s&&i.shift();)e.unsubscribe();throw t}}}export{AsapScheduler};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQXNhcFNjaGVkdWxlci50cyJdLCJuYW1lcyI6WyJBc3luY1NjaGVkdWxlciIsIkFzYXBTY2hlZHVsZXIiLCJmbHVzaCIsImFjdGlvbiIsInRoaXMiLCJfYWN0aXZlIiwiZmx1c2hJZCIsIl9zY2hlZHVsZWQiLCJhY3Rpb25zIiwidW5kZWZpbmVkIiwibGV0IiwiZXJyb3IiLCJzaGlmdCIsImV4ZWN1dGUiLCJzdGF0ZSIsImRlbGF5IiwiaWQiLCJ1bnN1YnNjcmliZSJdLCJtYXBwaW5ncyI6Ik9BQ1NBLGNBQXdDLEtBQWxCLHlCQUVsQkMsc0JBQXNCRCxlQUMxQkUsTUFBTUMsR0FDWEMsS0FBS0MsUUFBVSxDQUFBLEVBVWYsSUFBTUMsRUFBVUYsS0FBS0csV0FHYkMsR0FGUkosS0FBS0csV0FBYUUsS0FBQUEsRUFFRUwsTUFBTCxRQUNmTSxJQUFJQyxFQUNKUixFQUFTQSxHQUFVSyxFQUFRSSxNQUFLLEVBRWhDLEdBQ0UsR0FBS0QsRUFBUVIsRUFBT1UsUUFBUVYsRUFBT1csTUFBT1gsRUFBT1ksS0FBSyxFQUNwRCxLQUNGLFFBQ1FaLEVBQVNLLEVBQVEsS0FBT0wsRUFBT2EsS0FBT1YsR0FBV0UsRUFBUUksTUFBSyxHQUl4RSxHQUZBUixLQUFLQyxRQUFVLENBQUEsRUFFWE0sRUFBTyxDQUNULE1BQVFSLEVBQVNLLEVBQVEsS0FBT0wsRUFBT2EsS0FBT1YsR0FBV0UsRUFBUUksTUFBSyxHQUNwRVQsRUFBT2MsWUFBVyxFQUVwQixNQUFNTixDQUNSLENBQ0YsQyxRQWpDV1YsYSIsImZpbGUiOiJub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL0FzYXBTY2hlZHVsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcblxuZXhwb3J0IGNsYXNzIEFzYXBTY2hlZHVsZXIgZXh0ZW5kcyBBc3luY1NjaGVkdWxlciB7XG4gIHB1YmxpYyBmbHVzaChhY3Rpb24/OiBBc3luY0FjdGlvbjxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAvLyBUaGUgYXN5bmMgaWQgdGhhdCBlZmZlY3RzIGEgY2FsbCB0byBmbHVzaCBpcyBzdG9yZWQgaW4gX3NjaGVkdWxlZC5cbiAgICAvLyBCZWZvcmUgZXhlY3V0aW5nIGFuIGFjdGlvbiwgaXQncyBuZWNlc3NhcnkgdG8gY2hlY2sgdGhlIGFjdGlvbidzIGFzeW5jXG4gICAgLy8gaWQgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgaXQncyBzdXBwb3NlZCB0byBiZSBleGVjdXRlZCBpbiB0aGUgY3VycmVudFxuICAgIC8vIGZsdXNoLlxuICAgIC8vIFByZXZpb3VzIGltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCB1c2VkIGEgY291bnQgdG8gZGV0ZXJtaW5lIHRoaXMsXG4gICAgLy8gYnV0IHRoYXQgd2FzIHVuc291bmQsIGFzIGFjdGlvbnMgdGhhdCBhcmUgdW5zdWJzY3JpYmVkIC0gaS5lLiBjYW5jZWxsZWQgLVxuICAgIC8vIGFyZSByZW1vdmVkIGZyb20gdGhlIGFjdGlvbnMgYXJyYXkgYW5kIHRoYXQgY2FuIHNoaWZ0IGFjdGlvbnMgdGhhdCBhcmVcbiAgICAvLyBzY2hlZHVsZWQgdG8gYmUgZXhlY3V0ZWQgaW4gYSBzdWJzZXF1ZW50IGZsdXNoIGludG8gcG9zaXRpb25zIGF0IHdoaWNoXG4gICAgLy8gdGhleSBhcmUgZXhlY3V0ZWQgd2l0aGluIHRoZSBjdXJyZW50IGZsdXNoLlxuICAgIGNvbnN0IGZsdXNoSWQgPSB0aGlzLl9zY2hlZHVsZWQ7XG4gICAgdGhpcy5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgeyBhY3Rpb25zIH0gPSB0aGlzO1xuICAgIGxldCBlcnJvcjogYW55O1xuICAgIGFjdGlvbiA9IGFjdGlvbiB8fCBhY3Rpb25zLnNoaWZ0KCkhO1xuXG4gICAgZG8ge1xuICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnNbMF0pICYmIGFjdGlvbi5pZCA9PT0gZmx1c2hJZCAmJiBhY3Rpb25zLnNoaWZ0KCkpO1xuXG4gICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9uc1swXSkgJiYgYWN0aW9uLmlkID09PSBmbHVzaElkICYmIGFjdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIl19
