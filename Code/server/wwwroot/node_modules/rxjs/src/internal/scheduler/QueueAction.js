import{AsyncAction}from"./AsyncAction";class QueueAction extends AsyncAction{constructor(e,s){super(e,s),this.scheduler=e,this.work=s}schedule(e,s=0){return 0<s?super.schedule(e,s):(this.delay=s,this.state=e,this.scheduler.flush(this),this)}execute(e,s){return 0<s||this.closed?super.execute(e,s):this._execute(e,s)}requestAsyncId(e,s,t=0){return null!=t&&0<t||null==t&&0<this.delay?super.requestAsyncId(e,s,t):(e.flush(this),0)}}export{QueueAction};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvUXVldWVBY3Rpb24udHMiXSwibmFtZXMiOlsiQXN5bmNBY3Rpb24iLCJRdWV1ZUFjdGlvbiIsImNvbnN0cnVjdG9yIiwic2NoZWR1bGVyIiwid29yayIsInN1cGVyIiwidGhpcyIsInNjaGVkdWxlIiwic3RhdGUiLCJkZWxheSIsImZsdXNoIiwiZXhlY3V0ZSIsImNsb3NlZCIsIl9leGVjdXRlIiwicmVxdWVzdEFzeW5jSWQiLCJpZCJdLCJtYXBwaW5ncyI6Ik9BQVNBLFdBQWtDLEtBQWYsc0JBTWZDLG9CQUF1QkQsWUFDbENFLFlBQXNCQyxFQUFxQ0MsR0FDekRDLE1BQU1GLEVBQVdDLENBQUksRUFEREUsS0FBQUgsVUFBQUEsRUFBcUNHLEtBQUFGLEtBQUFBLENBRTNELENBRU9HLFNBQVNDLEVBQVdDLEVBQWdCLEdBQ3pDLE9BQVksRUFBUkEsRUFDS0osTUFBTUUsU0FBU0MsRUFBT0MsQ0FBSyxHQUVwQ0gsS0FBS0csTUFBUUEsRUFDYkgsS0FBS0UsTUFBUUEsRUFDYkYsS0FBS0gsVUFBVU8sTUFBTUosSUFBSSxFQUNsQkEsS0FDVCxDQUVPSyxRQUFRSCxFQUFVQyxHQUN2QixPQUFlLEVBQVJBLEdBQWFILEtBQUtNLE9BQVNQLE1BQU1NLFFBQVFILEVBQU9DLENBQUssRUFBSUgsS0FBS08sU0FBU0wsRUFBT0MsQ0FBSyxDQUM1RixDQUVVSyxlQUFlWCxFQUEyQlksRUFBa0JOLEVBQWdCLEdBS3BGLE9BQWMsTUFBVEEsR0FBeUIsRUFBUkEsR0FBd0IsTUFBVEEsR0FBOEIsRUFBYkgsS0FBS0csTUFDbERKLE1BQU1TLGVBQWVYLEVBQVdZLEVBQUlOLENBQUssR0FJbEROLEVBQVVPLE1BQU1KLElBQUksRUFNYixFQUNULEMsUUFwQ1dMLFciLCJmaWxlIjoibm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9RdWV1ZUFjdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgUXVldWVTY2hlZHVsZXIgfSBmcm9tICcuL1F1ZXVlU2NoZWR1bGVyJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5cbmV4cG9ydCBjbGFzcyBRdWV1ZUFjdGlvbjxUPiBleHRlbmRzIEFzeW5jQWN0aW9uPFQ+IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHNjaGVkdWxlcjogUXVldWVTY2hlZHVsZXIsIHByb3RlY3RlZCB3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQpIHtcbiAgICBzdXBlcihzY2hlZHVsZXIsIHdvcmspO1xuICB9XG5cbiAgcHVibGljIHNjaGVkdWxlKHN0YXRlPzogVCwgZGVsYXk6IG51bWJlciA9IDApOiBTdWJzY3JpcHRpb24ge1xuICAgIGlmIChkZWxheSA+IDApIHtcbiAgICAgIHJldHVybiBzdXBlci5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICAgIH1cbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuc2NoZWR1bGVyLmZsdXNoKHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIGV4ZWN1dGUoc3RhdGU6IFQsIGRlbGF5OiBudW1iZXIpOiBhbnkge1xuICAgIHJldHVybiBkZWxheSA+IDAgfHwgdGhpcy5jbG9zZWQgPyBzdXBlci5leGVjdXRlKHN0YXRlLCBkZWxheSkgOiB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyOiBRdWV1ZVNjaGVkdWxlciwgaWQ/OiBUaW1lckhhbmRsZSwgZGVsYXk6IG51bWJlciA9IDApOiBUaW1lckhhbmRsZSB7XG4gICAgLy8gSWYgZGVsYXkgZXhpc3RzIGFuZCBpcyBncmVhdGVyIHRoYW4gMCwgb3IgaWYgdGhlIGRlbGF5IGlzIG51bGwgKHRoZVxuICAgIC8vIGFjdGlvbiB3YXNuJ3QgcmVzY2hlZHVsZWQpIGJ1dCB3YXMgb3JpZ2luYWxseSBzY2hlZHVsZWQgYXMgYW4gYXN5bmNcbiAgICAvLyBhY3Rpb24sIHRoZW4gcmVjeWNsZSBhcyBhbiBhc3luYyBhY3Rpb24uXG5cbiAgICBpZiAoKGRlbGF5ICE9IG51bGwgJiYgZGVsYXkgPiAwKSB8fCAoZGVsYXkgPT0gbnVsbCAmJiB0aGlzLmRlbGF5ID4gMCkpIHtcbiAgICAgIHJldHVybiBzdXBlci5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlIGZsdXNoIHRoZSBzY2hlZHVsZXIgc3RhcnRpbmcgd2l0aCB0aGlzIGFjdGlvbi5cbiAgICBzY2hlZHVsZXIuZmx1c2godGhpcyk7XG5cbiAgICAvLyBIQUNLOiBJbiB0aGUgcGFzdCwgdGhpcyB3YXMgcmV0dXJuaW5nIGB2b2lkYC4gSG93ZXZlciwgYHZvaWRgIGlzbid0IGEgdmFsaWRcbiAgICAvLyBgVGltZXJIYW5kbGVgLCBhbmQgZ2VuZXJhbGx5IHRoZSByZXR1cm4gdmFsdWUgaGVyZSBpc24ndCByZWFsbHkgdXNlZC4gU28gdGhlXG4gICAgLy8gY29tcHJvbWlzZSBpcyB0byByZXR1cm4gYDBgIHdoaWNoIGlzIGJvdGggXCJmYWxzeVwiIGFuZCBhIHZhbGlkIGBUaW1lckhhbmRsZWAsXG4gICAgLy8gYXMgb3Bwb3NlZCB0byByZWZhY3RvcmluZyBldmVyeSBvdGhlciBpbnN0YW5jZW8gb2YgYHJlcXVlc3RBc3luY0lkYC5cbiAgICByZXR1cm4gMDtcbiAgfVxufVxuIl19
