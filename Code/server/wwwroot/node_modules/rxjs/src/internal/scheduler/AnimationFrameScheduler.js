import{AsyncScheduler}from"./AsyncScheduler";class AnimationFrameScheduler extends AsyncScheduler{flush(e){this._active=!0;let i;e?i=e.id:(i=this._scheduled,this._scheduled=void 0);var t=this.actions;let s;e=e||t.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=t[0])&&e.id===i&&t.shift());if(this._active=!1,s){for(;(e=t[0])&&e.id===i&&t.shift();)e.unsubscribe();throw s}}}export{AnimationFrameScheduler};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIudHMiXSwibmFtZXMiOlsiQXN5bmNTY2hlZHVsZXIiLCJBbmltYXRpb25GcmFtZVNjaGVkdWxlciIsImZsdXNoIiwiYWN0aW9uIiwidGhpcyIsIl9hY3RpdmUiLCJsZXQiLCJmbHVzaElkIiwiaWQiLCJfc2NoZWR1bGVkIiwidW5kZWZpbmVkIiwiYWN0aW9ucyIsImVycm9yIiwic2hpZnQiLCJleGVjdXRlIiwic3RhdGUiLCJkZWxheSIsInVuc3Vic2NyaWJlIl0sIm1hcHBpbmdzIjoiT0FDU0EsY0FBd0MsS0FBbEIseUJBRWxCQyxnQ0FBZ0NELGVBQ3BDRSxNQUFNQyxHQUNYQyxLQUFLQyxRQUFVLENBQUEsRUFVZkMsSUFBSUMsRUFDQUosRUFDRkksRUFBVUosRUFBT0ssSUFFakJELEVBQVVILEtBQUtLLFdBQ2ZMLEtBQUtLLFdBQWFDLEtBQUFBLEdBR3BCLElBQVFDLEVBQVlQLEtBQUwsUUFDZkUsSUFBSU0sRUFDSlQsRUFBU0EsR0FBVVEsRUFBUUUsTUFBSyxFQUVoQyxHQUNFLEdBQUtELEVBQVFULEVBQU9XLFFBQVFYLEVBQU9ZLE1BQU9aLEVBQU9hLEtBQUssRUFDcEQsS0FDRixRQUNRYixFQUFTUSxFQUFRLEtBQU9SLEVBQU9LLEtBQU9ELEdBQVdJLEVBQVFFLE1BQUssR0FJeEUsR0FGQVQsS0FBS0MsUUFBVSxDQUFBLEVBRVhPLEVBQU8sQ0FDVCxNQUFRVCxFQUFTUSxFQUFRLEtBQU9SLEVBQU9LLEtBQU9ELEdBQVdJLEVBQVFFLE1BQUssR0FDcEVWLEVBQU9jLFlBQVcsRUFFcEIsTUFBTUwsQ0FDUixDQUNGLEMsUUF0Q1dYLHVCIiwiZmlsZSI6Im5vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIGV4dGVuZHMgQXN5bmNTY2hlZHVsZXIge1xuICBwdWJsaWMgZmx1c2goYWN0aW9uPzogQXN5bmNBY3Rpb248YW55Pik6IHZvaWQge1xuICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7XG4gICAgLy8gVGhlIGFzeW5jIGlkIHRoYXQgZWZmZWN0cyBhIGNhbGwgdG8gZmx1c2ggaXMgc3RvcmVkIGluIF9zY2hlZHVsZWQuXG4gICAgLy8gQmVmb3JlIGV4ZWN1dGluZyBhbiBhY3Rpb24sIGl0J3MgbmVjZXNzYXJ5IHRvIGNoZWNrIHRoZSBhY3Rpb24ncyBhc3luY1xuICAgIC8vIGlkIHRvIGRldGVybWluZSB3aGV0aGVyIGl0J3Mgc3VwcG9zZWQgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGN1cnJlbnRcbiAgICAvLyBmbHVzaC5cbiAgICAvLyBQcmV2aW91cyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBtZXRob2QgdXNlZCBhIGNvdW50IHRvIGRldGVybWluZSB0aGlzLFxuICAgIC8vIGJ1dCB0aGF0IHdhcyB1bnNvdW5kLCBhcyBhY3Rpb25zIHRoYXQgYXJlIHVuc3Vic2NyaWJlZCAtIGkuZS4gY2FuY2VsbGVkIC1cbiAgICAvLyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBhY3Rpb25zIGFycmF5IGFuZCB0aGF0IGNhbiBzaGlmdCBhY3Rpb25zIHRoYXQgYXJlXG4gICAgLy8gc2NoZWR1bGVkIHRvIGJlIGV4ZWN1dGVkIGluIGEgc3Vic2VxdWVudCBmbHVzaCBpbnRvIHBvc2l0aW9ucyBhdCB3aGljaFxuICAgIC8vIHRoZXkgYXJlIGV4ZWN1dGVkIHdpdGhpbiB0aGUgY3VycmVudCBmbHVzaC5cbiAgICBsZXQgZmx1c2hJZDtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBmbHVzaElkID0gYWN0aW9uLmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBmbHVzaElkID0gdGhpcy5fc2NoZWR1bGVkO1xuICAgICAgdGhpcy5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gdGhpcztcbiAgICBsZXQgZXJyb3I6IGFueTtcbiAgICBhY3Rpb24gPSBhY3Rpb24gfHwgYWN0aW9ucy5zaGlmdCgpITtcblxuICAgIGRvIHtcbiAgICAgIGlmICgoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zWzBdKSAmJiBhY3Rpb24uaWQgPT09IGZsdXNoSWQgJiYgYWN0aW9ucy5zaGlmdCgpKTtcblxuICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnNbMF0pICYmIGFjdGlvbi5pZCA9PT0gZmx1c2hJZCAmJiBhY3Rpb25zLnNoaWZ0KCkpIHtcbiAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn1cbiJdfQ==
