import{getMyPositionAsync,getSunInfosAsync}from"./geoservice.js";import"/node_modules/suncalc/suncalc.js";document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelector("#button_get_position");let t=document.querySelector("#input_lat"),n=document.querySelector("#input_lon"),r=document.querySelector("#placeholder_error"),o=document.querySelector("#placeholder_infos"),c={};function u(){t.value=c.currentLat?c.currentLat.toString():"",n.value=c.currentLon?c.currentLon.toString():"",r.innerHTML=c.errorMessage??"",o.innerHTML=JSON.stringify(c.infos)}e.addEventListener("click",async()=>{try{var e=await getMyPositionAsync();c.currentLat=e.latitude,c.currentLon=e.longitude,c.infos=await getSunInfosAsync(c.currentLat,c.currentLon),u()}catch(e){c.errorMessage=e.message,u()}})});